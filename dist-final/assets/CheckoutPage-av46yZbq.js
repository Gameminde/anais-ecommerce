import{u as e,a,s as t,j as n}from"./index-DTKYLyWi.js";import{i as o,r as s}from"./vendor-CqcxEAra.js";import"./ui-DT7K8H-1.js";import"./utils-CRyZlS6r.js";const c=[{code:"01",name:"Adrar"},{code:"02",name:"Chlef"},{code:"03",name:"Laghouat"},{code:"04",name:"Oum El Bouaghi"},{code:"05",name:"Batna"},{code:"06",name:"BÃ©jaÃ¯a"},{code:"07",name:"Biskra"},{code:"08",name:"BÃ©char"},{code:"09",name:"Blida"},{code:"10",name:"Bouira"},{code:"11",name:"Tamanrasset"},{code:"12",name:"TÃ©bessa"},{code:"13",name:"Tlemcen"},{code:"14",name:"Tiaret"},{code:"15",name:"Tizi Ouzou"},{code:"16",name:"Alger"},{code:"17",name:"Djelfa"},{code:"18",name:"Jijel"},{code:"19",name:"SÃ©tif"},{code:"20",name:"SaÃ¯da"},{code:"21",name:"Skikda"},{code:"22",name:"Sidi Bel AbbÃ¨s"},{code:"23",name:"Annaba"},{code:"24",name:"Guelma"},{code:"25",name:"Constantine"},{code:"26",name:"MÃ©dÃ©a"},{code:"27",name:"Mostaganem"},{code:"28",name:"M'Sila"},{code:"29",name:"Mascara"},{code:"30",name:"Ouargla"},{code:"31",name:"Oran"},{code:"32",name:"El Bayadh"},{code:"33",name:"Illizi"},{code:"34",name:"Bordj Bou ArrÃ©ridj"},{code:"35",name:"BoumerdÃ¨s"},{code:"36",name:"El Tarf"},{code:"37",name:"Tindouf"},{code:"38",name:"Tissemsilt"},{code:"39",name:"El Oued"},{code:"40",name:"Khenchela"},{code:"41",name:"Souk Ahras"},{code:"42",name:"Tipaza"},{code:"43",name:"Mila"},{code:"44",name:"AÃ¯n Defla"},{code:"45",name:"NaÃ¢ma"},{code:"46",name:"AÃ¯n TÃ©mouchent"},{code:"47",name:"GhardaÃ¯a"},{code:"48",name:"Relizane"},{code:"49",name:"Timimoun"},{code:"50",name:"Bordj Badji Mokhtar"},{code:"51",name:"Ouled Djellal"},{code:"52",name:"BÃ©ni AbbÃ¨s"},{code:"53",name:"In Salah"},{code:"54",name:"In Guezzam"},{code:"55",name:"Touggourt"},{code:"56",name:"Djanet"},{code:"57",name:"El M'Ghair"},{code:"58",name:"El Meniaa"}];function i(){const{user:i}=e(),{cartItems:r,cartTotal:m,clearCart:d}=a(),l=o(),[p,u]=s.useState(!1),[h,x]=s.useState([]),[g,C]=s.useState(""),[f,y]=s.useState(!0),[k,P]=s.useState({full_name:"",phone:"",email:"",wilaya:"",commune:"",address:"",postal_code:"",delivery_notes:""}),[b,v]=s.useState({}),A=400,N=m+A;s.useEffect(()=>{i&&U()},[i]),s.useEffect(()=>{},[r,m]);const U=async()=>{const{data:e,error:a}=await t.from("addresses").select("*").eq("user_id",null==i?void 0:i.id);e&&x(e)},j=(e,a)=>{if(P(t=>({...t,[e]:a})),b[e]&&v(a=>{const t={...a};return delete t[e],t}),"phone"===e){const e=(e=>{const a=e.replace(/\s+/g,"").replace(/[-()]/g,"");return/^0[5-7]\d{8}$/.test(a)?`${a.slice(0,2)} ${a.slice(2,4)} ${a.slice(4,6)} ${a.slice(6,8)} ${a.slice(8,10)}`:/^\+213[5-7]\d{8}$/.test(a)||/^00213[5-7]\d{8}$/.test(a)?a:e})(a);e!==a&&P(a=>({...a,phone:e}))}};return n.jsx("div",{className:"min-h-screen bg-gray-50 pt-20","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx:521:4","data-matrix-name":"div","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx","data-component-line":"521","data-component-file":"CheckoutPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22min-h-screen%20bg-gray-50%20pt-20%22%7D",children:n.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx:522:6","data-matrix-name":"div","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx","data-component-line":"522","data-component-file":"CheckoutPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22max-w-4xl%20mx-auto%20px-4%20py-8%22%7D",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx:523:8","data-matrix-name":"div","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx","data-component-line":"523","data-component-file":"CheckoutPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-white%20rounded-lg%20shadow-md%20p-8%22%7D",children:[n.jsx("h1",{className:"text-2xl font-bold mb-6","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx:524:6","data-matrix-name":"h1","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx","data-component-line":"524","data-component-file":"CheckoutPage.tsx","data-component-name":"h1","data-component-content":"%7B%22className%22%3A%22text-2xl%20font-bold%20mb-6%22%7D",children:"Finaliser la commande"}),n.jsxs("div",{className:"mb-6","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx:527:10","data-matrix-name":"div","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx","data-component-line":"527","data-component-file":"CheckoutPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22mb-6%22%7D",children:[n.jsx("h2",{className:"text-lg font-semibold mb-4","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx:528:12","data-matrix-name":"h2","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx","data-component-line":"528","data-component-file":"CheckoutPage.tsx","data-component-name":"h2","data-component-content":"%7B%22className%22%3A%22text-lg%20font-semibold%20mb-4%22%7D",children:"RÃ©capitulatif de commande"}),r.map((e,a)=>{var t,o;return n.jsxs("div",{className:"flex justify-between py-2","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx:530:14","data-matrix-name":"div","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx","data-component-line":"530","data-component-file":"CheckoutPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20justify-between%20py-2%22%7D",children:[n.jsxs("span",{"data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx:531:16","data-matrix-name":"span","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx","data-component-line":"531","data-component-file":"CheckoutPage.tsx","data-component-name":"span",children:[null==(t=e.product)?void 0:t.name_en," x",e.quantity]}),n.jsxs("span",{"data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx:532:16","data-matrix-name":"span","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx","data-component-line":"532","data-component-file":"CheckoutPage.tsx","data-component-name":"span",children:[null==(o=e.product)?void 0:o.price_dzd," DA"]})]},a)}),n.jsxs("div",{className:"border-t mt-4 pt-4","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx:535:12","data-matrix-name":"div","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx","data-component-line":"535","data-component-file":"CheckoutPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22border-t%20mt-4%20pt-4%22%7D",children:[n.jsxs("div",{className:"flex justify-between","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx:536:14","data-matrix-name":"div","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx","data-component-line":"536","data-component-file":"CheckoutPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20justify-between%22%7D",children:[n.jsx("span",{"data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx:537:16","data-matrix-name":"span","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx","data-component-line":"537","data-component-file":"CheckoutPage.tsx","data-component-name":"span",children:"Sous-total:"}),n.jsxs("span",{"data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx:538:16","data-matrix-name":"span","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx","data-component-line":"538","data-component-file":"CheckoutPage.tsx","data-component-name":"span",children:[m," DA"]})]}),n.jsxs("div",{className:"flex justify-between","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx:540:14","data-matrix-name":"div","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx","data-component-line":"540","data-component-file":"CheckoutPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20justify-between%22%7D",children:[n.jsx("span",{"data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx:541:16","data-matrix-name":"span","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx","data-component-line":"541","data-component-file":"CheckoutPage.tsx","data-component-name":"span",children:"Livraison:"}),n.jsxs("span",{"data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx:542:16","data-matrix-name":"span","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx","data-component-line":"542","data-component-file":"CheckoutPage.tsx","data-component-name":"span",children:[A," DA"]})]}),n.jsxs("div",{className:"flex justify-between font-bold text-lg","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx:544:14","data-matrix-name":"div","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx","data-component-line":"544","data-component-file":"CheckoutPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20justify-between%20font-bold%20text-lg%22%7D",children:[n.jsx("span",{"data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx:545:16","data-matrix-name":"span","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx","data-component-line":"545","data-component-file":"CheckoutPage.tsx","data-component-name":"span",children:"Total:"}),n.jsxs("span",{"data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx:546:16","data-matrix-name":"span","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx","data-component-line":"546","data-component-file":"CheckoutPage.tsx","data-component-name":"span",children:[N," DA"]})]})]})]}),n.jsxs("div",{className:"mb-6","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx:552:10","data-matrix-name":"div","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx","data-component-line":"552","data-component-file":"CheckoutPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22mb-6%22%7D",children:[n.jsx("h2",{className:"text-lg font-semibold mb-4","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx:553:12","data-matrix-name":"h2","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx","data-component-line":"553","data-component-file":"CheckoutPage.tsx","data-component-name":"h2","data-component-content":"%7B%22className%22%3A%22text-lg%20font-semibold%20mb-4%22%7D",children:"Adresse de livraison"}),n.jsx("div",{className:"mb-4","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx:556:12","data-matrix-name":"div","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx","data-component-line":"556","data-component-file":"CheckoutPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22mb-4%22%7D",children:n.jsxs("div",{className:"flex space-x-4 mb-4","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx:557:14","data-matrix-name":"div","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx","data-component-line":"557","data-component-file":"CheckoutPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20space-x-4%20mb-4%22%7D",children:[n.jsxs("label",{className:"flex items-center","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx:558:16","data-matrix-name":"label","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx","data-component-line":"558","data-component-file":"CheckoutPage.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22flex%20items-center%22%7D",children:[n.jsx("input",{type:"radio",name:"deliveryOption",checked:!f,onChange:()=>{y(!1),C("")},className:"mr-2","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx:559:18","data-matrix-name":"input","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx","data-component-line":"559","data-component-file":"CheckoutPage.tsx","data-component-name":"input","data-component-content":"%7B%22type%22%3A%22radio%22%2C%22name%22%3A%22deliveryOption%22%2C%22checked%22%3A%22%5BUnaryExpression%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22mr-2%22%7D"}),n.jsx("span",{className:"text-sm","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx:569:18","data-matrix-name":"span","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx","data-component-line":"569","data-component-file":"CheckoutPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-sm%22%7D",children:"Utiliser une adresse sauvegardÃ©e"})]}),n.jsxs("label",{className:"flex items-center","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx:571:16","data-matrix-name":"label","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx","data-component-line":"571","data-component-file":"CheckoutPage.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22flex%20items-center%22%7D",children:[n.jsx("input",{type:"radio",name:"deliveryOption",checked:f,onChange:()=>{y(!0),C("")},className:"mr-2","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx:572:18","data-matrix-name":"input","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx","data-component-line":"572","data-component-file":"CheckoutPage.tsx","data-component-name":"input","data-component-content":"%7B%22type%22%3A%22radio%22%2C%22name%22%3A%22deliveryOption%22%2C%22checked%22%3A%22%5BIdentifier%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22mr-2%22%7D"}),n.jsx("span",{className:"text-sm","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx:582:18","data-matrix-name":"span","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx","data-component-line":"582","data-component-file":"CheckoutPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-sm%22%7D",children:"Saisir une nouvelle adresse"})]})]})}),f?n.jsxs("div",{className:"space-y-6","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx:616:14","data-matrix-name":"div","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx","data-component-line":"616","data-component-file":"CheckoutPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22space-y-6%22%7D",children:[n.jsxs("div",{className:"border-b pb-4","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx:618:16","data-matrix-name":"div","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx","data-component-line":"618","data-component-file":"CheckoutPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22border-b%20pb-4%22%7D",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx:619:18","data-matrix-name":"h3","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx","data-component-line":"619","data-component-file":"CheckoutPage.tsx","data-component-name":"h3","data-component-content":"%7B%22className%22%3A%22text-lg%20font-medium%20text-gray-900%20mb-4%22%7D",children:"Informations client"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx:620:18","data-matrix-name":"div","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx","data-component-line":"620","data-component-file":"CheckoutPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22grid%20grid-cols-1%20md%3Agrid-cols-2%20gap-4%22%7D",children:[n.jsxs("div",{"data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx:621:20","data-matrix-name":"div","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx","data-component-line":"621","data-component-file":"CheckoutPage.tsx","data-component-name":"div",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx:622:22","data-matrix-name":"label","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx","data-component-line":"622","data-component-file":"CheckoutPage.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22block%20text-sm%20font-medium%20text-gray-700%20mb-1%22%7D",children:"Nom complet *"}),n.jsx("input",{id:"field-full_name",type:"text",value:k.full_name,onChange:e=>j("full_name",e.target.value),className:"w-full px-3 py-3 border rounded-md focus:outline-none focus:ring-2 focus:ring-yellow-500 text-base "+(b.full_name?"border-red-500 focus:ring-red-500":"border-gray-300"),placeholder:"Ex: Ahmed Ben Ali","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx:625:22","data-matrix-name":"input","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx","data-component-line":"625","data-component-file":"CheckoutPage.tsx","data-component-name":"input","data-component-content":"%7B%22id%22%3A%22field-full_name%22%2C%22type%22%3A%22text%22%2C%22value%22%3A%22%5BMemberExpression%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22%5BTemplateLiteral%5D%22%2C%22placeholder%22%3A%22Ex%3A%20Ahmed%20Ben%20Ali%22%7D"}),b.full_name&&n.jsx("p",{className:"mt-1 text-sm text-red-600","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx:636:24","data-matrix-name":"p","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx","data-component-line":"636","data-component-file":"CheckoutPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22mt-1%20text-sm%20text-red-600%22%7D",children:b.full_name})]}),n.jsxs("div",{"data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx:640:20","data-matrix-name":"div","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx","data-component-line":"640","data-component-file":"CheckoutPage.tsx","data-component-name":"div",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx:641:22","data-matrix-name":"label","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx","data-component-line":"641","data-component-file":"CheckoutPage.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22block%20text-sm%20font-medium%20text-gray-700%20mb-1%22%7D",children:"NumÃ©ro de tÃ©lÃ©phone *"}),n.jsx("input",{id:"field-phone",type:"tel",value:k.phone,onChange:e=>j("phone",e.target.value),className:"w-full px-3 py-3 border rounded-md focus:outline-none focus:ring-2 focus:ring-yellow-500 text-base "+(b.phone?"border-red-500 focus:ring-red-500":"border-gray-300"),placeholder:"Ex: 0555123456 ou +21355123456","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx:644:22","data-matrix-name":"input","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx","data-component-line":"644","data-component-file":"CheckoutPage.tsx","data-component-name":"input","data-component-content":"%7B%22id%22%3A%22field-phone%22%2C%22type%22%3A%22tel%22%2C%22value%22%3A%22%5BMemberExpression%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22%5BTemplateLiteral%5D%22%2C%22placeholder%22%3A%22Ex%3A%200555123456%20ou%20%2B21355123456%22%7D"}),b.phone&&n.jsx("p",{className:"mt-1 text-sm text-red-600","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx:655:24","data-matrix-name":"p","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx","data-component-line":"655","data-component-file":"CheckoutPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22mt-1%20text-sm%20text-red-600%22%7D",children:b.phone}),n.jsx("p",{className:"mt-1 text-xs text-gray-500","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx:657:22","data-matrix-name":"p","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx","data-component-line":"657","data-component-file":"CheckoutPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22mt-1%20text-xs%20text-gray-500%22%7D",children:"Formats acceptÃ©s: 05XXXXXXXX, +2135XXXXXXXX, 002135XXXXXXXX"})]})]}),n.jsxs("div",{className:"mt-4","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx:663:18","data-matrix-name":"div","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx","data-component-line":"663","data-component-file":"CheckoutPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22mt-4%22%7D",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx:664:20","data-matrix-name":"label","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx","data-component-line":"664","data-component-file":"CheckoutPage.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22block%20text-sm%20font-medium%20text-gray-700%20mb-1%22%7D",children:"Email (optionnel)"}),n.jsx("input",{id:"field-email",type:"email",value:k.email,onChange:e=>j("email",e.target.value),className:"w-full px-3 py-3 border rounded-md focus:outline-none focus:ring-2 focus:ring-yellow-500 text-base "+(b.email?"border-red-500 focus:ring-red-500":"border-gray-300"),placeholder:"votre@email.com","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx:667:20","data-matrix-name":"input","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx","data-component-line":"667","data-component-file":"CheckoutPage.tsx","data-component-name":"input","data-component-content":"%7B%22id%22%3A%22field-email%22%2C%22type%22%3A%22email%22%2C%22value%22%3A%22%5BMemberExpression%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22%5BTemplateLiteral%5D%22%2C%22placeholder%22%3A%22votre%40email.com%22%7D"}),b.email&&n.jsx("p",{className:"mt-1 text-sm text-red-600","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx:678:22","data-matrix-name":"p","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx","data-component-line":"678","data-component-file":"CheckoutPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22mt-1%20text-sm%20text-red-600%22%7D",children:b.email})]})]}),n.jsxs("div",{"data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx:684:16","data-matrix-name":"div","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx","data-component-line":"684","data-component-file":"CheckoutPage.tsx","data-component-name":"div",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx:685:18","data-matrix-name":"h3","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx","data-component-line":"685","data-component-file":"CheckoutPage.tsx","data-component-name":"h3","data-component-content":"%7B%22className%22%3A%22text-lg%20font-medium%20text-gray-900%20mb-4%22%7D",children:"Adresse de livraison"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx:687:18","data-matrix-name":"div","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx","data-component-line":"687","data-component-file":"CheckoutPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22grid%20grid-cols-1%20md%3Agrid-cols-2%20gap-4%20mb-4%22%7D",children:[n.jsxs("div",{"data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx:688:20","data-matrix-name":"div","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx","data-component-line":"688","data-component-file":"CheckoutPage.tsx","data-component-name":"div",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx:689:22","data-matrix-name":"label","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx","data-component-line":"689","data-component-file":"CheckoutPage.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22block%20text-sm%20font-medium%20text-gray-700%20mb-1%22%7D",children:"Wilaya *"}),n.jsxs("select",{value:k.wilaya,onChange:e=>j("wilaya",e.target.value),required:!0,className:"w-full px-3 py-2 border rounded-md text-base "+(b.wilaya?"border-red-500":"border-gray-300"),"data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx:692:22","data-matrix-name":"select","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx","data-component-line":"692","data-component-file":"CheckoutPage.tsx","data-component-name":"select","data-component-content":"%7B%22value%22%3A%22%5BMemberExpression%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22required%22%3Atrue%2C%22className%22%3A%22%5BTemplateLiteral%5D%22%7D",children:[n.jsx("option",{value:"","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx:698:24","data-matrix-name":"option","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx","data-component-line":"698","data-component-file":"CheckoutPage.tsx","data-component-name":"option","data-component-content":"%7B%22value%22%3A%22%22%7D",children:"SÃ©lectionnez votre wilaya"}),c.map(e=>n.jsxs("option",{value:e.code,"data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx:700:26","data-matrix-name":"option","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx","data-component-line":"700","data-component-file":"CheckoutPage.tsx","data-component-name":"option","data-component-content":"%7B%22value%22%3A%22%5BMemberExpression%5D%22%7D",children:[e.code," - ",e.name]},e.code))]})]}),n.jsxs("div",{"data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx:707:8","data-matrix-name":"div","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx","data-component-line":"707","data-component-file":"CheckoutPage.tsx","data-component-name":"div",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx:708:22","data-matrix-name":"label","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx","data-component-line":"708","data-component-file":"CheckoutPage.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22block%20text-sm%20font-medium%20text-gray-700%20mb-1%22%7D",children:"Commune/Daira *"}),n.jsx("input",{id:"field-commune",type:"text",value:k.commune,onChange:e=>j("commune",e.target.value),className:"w-full px-3 py-3 border rounded-md focus:outline-none focus:ring-2 focus:ring-yellow-500 text-base "+(b.commune?"border-red-500 focus:ring-red-500":"border-gray-300"),placeholder:"Ex: Alger Centre, Oran Ville","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx:711:22","data-matrix-name":"input","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx","data-component-line":"711","data-component-file":"CheckoutPage.tsx","data-component-name":"input","data-component-content":"%7B%22id%22%3A%22field-commune%22%2C%22type%22%3A%22text%22%2C%22value%22%3A%22%5BMemberExpression%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22%5BTemplateLiteral%5D%22%2C%22placeholder%22%3A%22Ex%3A%20Alger%20Centre%2C%20Oran%20Ville%22%7D"}),b.commune&&n.jsx("p",{className:"mt-1 text-sm text-red-600","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx:722:24","data-matrix-name":"p","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx","data-component-line":"722","data-component-file":"CheckoutPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22mt-1%20text-sm%20text-red-600%22%7D",children:b.commune})]})]}),n.jsxs("div",{className:"mb-4","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx:727:12","data-matrix-name":"div","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx","data-component-line":"727","data-component-file":"CheckoutPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22mb-4%22%7D",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx:728:20","data-matrix-name":"label","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx","data-component-line":"728","data-component-file":"CheckoutPage.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22block%20text-sm%20font-medium%20text-gray-700%20mb-1%22%7D",children:"Adresse complÃ¨te *"}),n.jsx("textarea",{id:"field-address",value:k.address,onChange:e=>j("address",e.target.value),rows:3,className:"w-full px-3 py-3 border rounded-md focus:outline-none focus:ring-2 focus:ring-yellow-500 text-base resize-none "+(b.address?"border-red-500 focus:ring-red-500":"border-gray-300"),placeholder:"Ex: CitÃ© 200 logements, Bloc A, NÂ°12, Ã‰tage 3, Porte 5\nPrÃ©cisez les points de repÃ¨re si nÃ©cessaire","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx:731:20","data-matrix-name":"textarea","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx","data-component-line":"731","data-component-file":"CheckoutPage.tsx","data-component-name":"textarea","data-component-content":"%7B%22id%22%3A%22field-address%22%2C%22value%22%3A%22%5BMemberExpression%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22rows%22%3A3%2C%22className%22%3A%22%5BTemplateLiteral%5D%22%2C%22placeholder%22%3A%22Ex%3A%20Cit%C3%A9%20200%20logements%2C%20Bloc%20A%2C%20N%C2%B012%2C%20%C3%89tage%203%2C%20Porte%205%5CnPr%C3%A9cisez%20les%20points%20de%20rep%C3%A8re%20si%20n%C3%A9cessaire%22%7D"}),b.address&&n.jsx("p",{className:"mt-1 text-sm text-red-600","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx:742:22","data-matrix-name":"p","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx","data-component-line":"742","data-component-file":"CheckoutPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22mt-1%20text-sm%20text-red-600%22%7D",children:b.address}),n.jsx("p",{className:"mt-1 text-xs text-gray-500","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx:744:20","data-matrix-name":"p","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx","data-component-line":"744","data-component-file":"CheckoutPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22mt-1%20text-xs%20text-gray-500%22%7D",children:"Plus l'adresse est dÃ©taillÃ©e, plus la livraison sera facile et rapide"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx:749:18","data-matrix-name":"div","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx","data-component-line":"749","data-component-file":"CheckoutPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22grid%20grid-cols-1%20md%3Agrid-cols-2%20gap-4%22%7D",children:[n.jsxs("div",{"data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx:750:20","data-matrix-name":"div","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx","data-component-line":"750","data-component-file":"CheckoutPage.tsx","data-component-name":"div",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx:751:22","data-matrix-name":"label","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx","data-component-line":"751","data-component-file":"CheckoutPage.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22block%20text-sm%20font-medium%20text-gray-700%20mb-1%22%7D",children:"Code postal (optionnel)"}),n.jsx("input",{type:"text",value:k.postal_code,onChange:e=>j("postal_code",e.target.value),className:"w-full px-3 py-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-yellow-500 text-base",placeholder:"Ex: 16000","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx:754:22","data-matrix-name":"input","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx","data-component-line":"754","data-component-file":"CheckoutPage.tsx","data-component-name":"input","data-component-content":"%7B%22type%22%3A%22text%22%2C%22value%22%3A%22%5BMemberExpression%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22w-full%20px-3%20py-3%20border%20border-gray-300%20rounded-md%20focus%3Aoutline-none%20focus%3Aring-2%20focus%3Aring-yellow-500%20text-base%22%2C%22placeholder%22%3A%22Ex%3A%2016000%22%7D"})]}),n.jsxs("div",{"data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx:763:20","data-matrix-name":"div","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx","data-component-line":"763","data-component-file":"CheckoutPage.tsx","data-component-name":"div",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx:764:22","data-matrix-name":"label","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx","data-component-line":"764","data-component-file":"CheckoutPage.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22block%20text-sm%20font-medium%20text-gray-700%20mb-1%22%7D",children:"Instructions de livraison (optionnel)"}),n.jsx("input",{type:"text",value:k.delivery_notes,onChange:e=>j("delivery_notes",e.target.value),className:"w-full px-3 py-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-yellow-500 text-base",placeholder:"Ex: Sonner Ã  la porte rouge","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx:767:22","data-matrix-name":"input","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx","data-component-line":"767","data-component-file":"CheckoutPage.tsx","data-component-name":"input","data-component-content":"%7B%22type%22%3A%22text%22%2C%22value%22%3A%22%5BMemberExpression%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22w-full%20px-3%20py-3%20border%20border-gray-300%20rounded-md%20focus%3Aoutline-none%20focus%3Aring-2%20focus%3Aring-yellow-500%20text-base%22%2C%22placeholder%22%3A%22Ex%3A%20Sonner%20%C3%A0%20la%20porte%20rouge%22%7D"})]})]})]})]}):n.jsxs("div",{className:"space-y-4","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx:589:14","data-matrix-name":"div","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx","data-component-line":"589","data-component-file":"CheckoutPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22space-y-4%22%7D",children:[0===h.length?n.jsx("p",{className:"text-gray-500 mb-4","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx:591:18","data-matrix-name":"p","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx","data-component-line":"591","data-component-file":"CheckoutPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-gray-500%20mb-4%22%7D",children:"Aucune adresse sauvegardÃ©e"}):h.map(e=>n.jsxs("div",{onClick:()=>C(e.id),className:"p-4 border rounded-lg mb-3 cursor-pointer "+(g===e.id?"border-yellow-500 bg-yellow-50":""),"data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx:594:14","data-matrix-name":"div","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx","data-component-line":"594","data-component-file":"CheckoutPage.tsx","data-component-name":"div","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22%5BTemplateLiteral%5D%22%7D",children:[n.jsx("p",{className:"font-semibold","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx:601:16","data-matrix-name":"p","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx","data-component-line":"601","data-component-file":"CheckoutPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22font-semibold%22%7D",children:e.full_name}),n.jsxs("p",{className:"text-sm text-gray-600","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx:602:16","data-matrix-name":"p","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx","data-component-line":"602","data-component-file":"CheckoutPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20text-gray-600%22%7D",children:[e.address_line1,", ",e.city]})]},e.id)),n.jsx("button",{onClick:()=>l("/account/addresses?fromCheckout=true"),className:"mt-3 py-2 border-2 border-dashed border-gray-300 rounded-md w-full text-gray-500 hover:border-yellow-500 hover:text-yellow-500","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx:607:12","data-matrix-name":"button","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx","data-component-line":"607","data-component-file":"CheckoutPage.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22mt-3%20py-2%20border-2%20border-dashed%20border-gray-300%20rounded-md%20w-full%20text-gray-500%20hover%3Aborder-yellow-500%20hover%3Atext-yellow-500%22%7D",children:"+ Ajouter une adresse"})]})]}),n.jsxs("div",{className:"mb-6","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx:782:10","data-matrix-name":"div","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx","data-component-line":"782","data-component-file":"CheckoutPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22mb-6%22%7D",children:[n.jsx("h2",{className:"text-lg font-semibold mb-4","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx:783:12","data-matrix-name":"h2","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx","data-component-line":"783","data-component-file":"CheckoutPage.tsx","data-component-name":"h2","data-component-content":"%7B%22className%22%3A%22text-lg%20font-semibold%20mb-4%22%7D",children:"Paiement"}),n.jsxs("div",{className:"border-2 border-green-500 bg-green-50 p-4 rounded-lg","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx:784:12","data-matrix-name":"div","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx","data-component-line":"784","data-component-file":"CheckoutPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22border-2%20border-green-500%20bg-green-50%20p-4%20rounded-lg%22%7D",children:[n.jsx("h3",{className:"font-medium text-green-900","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx:785:14","data-matrix-name":"h3","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx","data-component-line":"785","data-component-file":"CheckoutPage.tsx","data-component-name":"h3","data-component-content":"%7B%22className%22%3A%22font-medium%20text-green-900%22%7D",children:"ðŸ’° Paiement Ã  la livraison"}),n.jsx("p",{className:"text-sm text-green-700 mt-1","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx:786:14","data-matrix-name":"p","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx","data-component-line":"786","data-component-file":"CheckoutPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20text-green-700%20mt-1%22%7D",children:"En espÃ¨ces Ã  rÃ©ception de la commande"})]})]}),n.jsx("button",{onClick:async()=>{var e,a,n,o,s;if(0!==r.length){if(f){const e=(()=>{const e={};return k.full_name.trim()?k.full_name.trim().length<2&&(e.full_name="Le nom doit contenir au moins 2 caractÃ¨res"):e.full_name="Le nom complet est obligatoire",k.phone.trim()?(e=>{const a=e.replace(/\s+/g,"").replace(/[-()]/g,"");return[/^0[5-7]\d{8}$/,/^\+213[5-7]\d{8}$/,/^00213[5-7]\d{8}$/].some(e=>e.test(a))})(k.phone)||(e.phone="NumÃ©ro invalide. Format acceptÃ© : 06XX XX XX XX"):e.phone="Le numÃ©ro de tÃ©lÃ©phone est obligatoire",k.email.trim()&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(k.email.trim())&&(e.email="Adresse email invalide"),k.wilaya||(e.wilaya="Veuillez sÃ©lectionner une wilaya"),k.commune.trim()||(e.commune="La commune est obligatoire"),k.address.trim()||(e.address="L'adresse complÃ¨te est obligatoire"),e})();if(Object.keys(e).length>0){v(e);const a=Object.keys(e)[0],t=document.getElementById(`field-${a}`);return void(t&&(t.scrollIntoView({behavior:"smooth",block:"center"}),t.focus()))}}else if(!g)return void alert("Veuillez sÃ©lectionner une adresse ou utiliser le formulaire rapide");u(!0);try{const{data:{session:p}}=await t.auth.getSession();if(!p)throw new Error("Session expirÃ©e. Veuillez vous reconnecter.");let u;if(f)u={userId:null==i?void 0:i.id,fullName:k.full_name,phone:k.phone,email:k.email,wilaya:k.wilaya,commune:k.commune,address:k.address,postalCode:k.postal_code,deliveryNotes:k.delivery_notes,items:r.map(e=>{var a,t;return{productId:null==(a=e.product)?void 0:a.id,quantity:e.quantity,price:(null==(t=e.product)?void 0:t.price_dzd)||0,size:e.size,color:e.color}}),subtotal:m,shippingFee:A};else{const e=h.find(e=>e.id===g);if(!e)throw new Error("Adresse sÃ©lectionnÃ©e introuvable");u={userId:null==i?void 0:i.id,shippingAddressId:g,fullName:e.full_name,phone:e.phone,email:"",wilaya:e.province,commune:e.city,address:e.address_line1,postalCode:e.postal_code,deliveryNotes:"",items:r.map(e=>{var a,t;return{productId:null==(a=e.product)?void 0:a.id,quantity:e.quantity,price:(null==(t=e.product)?void 0:t.price_dzd)||0,size:e.size,color:e.color}}),subtotal:m,shippingFee:A}}if(!(null==i?void 0:i.id))throw new Error("Utilisateur non connectÃ©");if(!(null==p?void 0:p.access_token))throw new Error("Session expirÃ©e, veuillez vous reconnecter");try{const{data:{session:e},error:a}=await t.auth.refreshSession();a||e&&e.access_token}catch(c){}let x=u.shippingAddressId;if(!x){const t={user_id:null==i?void 0:i.id,full_name:u.fullName,phone:u.phone,address_line1:u.address,city:u.commune,province:u.wilaya,postal_code:u.postalCode||null,is_default:!1};if(!(t.user_id&&t.full_name&&t.address_line1&&t.city&&t.province))throw new Error("DonnÃ©es d'adresse incomplÃ¨tes. Champs requis: nom, adresse, ville, wilaya");const n=await fetch("https://zvyhuqkyeyzkjdvafdkx.supabase.co/rest/v1/addresses",{method:"POST",headers:{"Content-Type":"application/json",apikey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inp2eWh1cWt5ZXl6a2pkdmFmZGt4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjIyOTc0NzUsImV4cCI6MjA3Nzg3MzQ3NX0.1NWeXi4URFI7hQi1l4JnNmoMWKSClDJqo9tyELnciXo",Authorization:`Bearer ${null==p?void 0:p.access_token}`},body:JSON.stringify(t)});await n.text();if(!n.ok){await n.text();if(401===n.status)throw new Error("Session expirÃ©e. Veuillez vous reconnecter.");throw new Error("Erreur lors de la crÃ©ation de l'adresse")}const o=await n.json().catch(()=>null);if(o&&(null==(e=o[0])?void 0:e.id))x=null==(a=o[0])?void 0:a.id;else{const e=await fetch(`https://zvyhuqkyeyzkjdvafdkx.supabase.co/rest/v1/addresses?user_id=eq.${null==i?void 0:i.id}&order=created_at.desc&limit=1`,{headers:{apikey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inp2eWh1cWt5ZXl6a2pkdmFmZGt4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjIyOTc0NzUsImV4cCI6MjA3Nzg3MzQ3NX0.1NWeXi4URFI7hQi1l4JnNmoMWKSClDJqo9tyELnciXo",Authorization:`Bearer ${null==p?void 0:p.access_token}`}});if(!e.ok)throw new Error("Impossible de rÃ©cupÃ©rer l'adresse crÃ©Ã©e");{const a=await e.json().catch(()=>[]);if(!(a.length>0))throw new Error("Aucune adresse trouvÃ©e pour cet utilisateur");x=a[0].id}}if(!x)throw new Error("Impossible de rÃ©cupÃ©rer l'ID de l'adresse crÃ©Ã©e")}const C=await fetch("https://zvyhuqkyeyzkjdvafdkx.supabase.co/rest/v1/orders?select=order_number&order=created_at.desc&limit=1",{headers:{apikey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inp2eWh1cWt5ZXl6a2pkdmFmZGt4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjIyOTc0NzUsImV4cCI6MjA3Nzg3MzQ3NX0.1NWeXi4URFI7hQi1l4JnNmoMWKSClDJqo9tyELnciXo",Authorization:`Bearer ${null==p?void 0:p.access_token}`}});let y=1;if(C.ok){const e=await C.json().catch(()=>[]);if(e.length>0&&(null==(n=e[0])?void 0:n.order_number)){const a=e[0].order_number.match(/ORD-(\d+)/);a&&(y=parseInt(a[1])+1)}}const P=`ORD-${String(y).padStart(6,"0")}`,b=await fetch("https://zvyhuqkyeyzkjdvafdkx.supabase.co/rest/v1/orders",{method:"POST",headers:{"Content-Type":"application/json",apikey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inp2eWh1cWt5ZXl6a2pkdmFmZGt4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjIyOTc0NzUsImV4cCI6MjA3Nzg3MzQ3NX0.1NWeXi4URFI7hQi1l4JnNmoMWKSClDJqo9tyELnciXo",Authorization:`Bearer ${null==p?void 0:p.access_token}`},body:JSON.stringify({order_number:P,user_id:null==i?void 0:i.id,shipping_address_id:x,total_amount_dzd:N,delivery_fee_dzd:A,payment_method:"cod",payment_status:"pending",order_status:"pending",notes:u.deliveryNotes||null})});if(!b.ok){await b.text();if(401===b.status)throw new Error("Session expirÃ©e. Veuillez vous reconnecter.");throw new Error("Erreur lors de la crÃ©ation de la commande")}const v=await b.json().catch(()=>null);let U;if(v&&(null==(o=v[0])?void 0:o.id))U=null==(s=v[0])?void 0:s.id;else{const e=await fetch(`https://zvyhuqkyeyzkjdvafdkx.supabase.co/rest/v1/orders?user_id=eq.${null==i?void 0:i.id}&order=created_at.desc&limit=1`,{headers:{apikey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inp2eWh1cWt5ZXl6a2pkdmFmZGt4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjIyOTc0NzUsImV4cCI6MjA3Nzg3MzQ3NX0.1NWeXi4URFI7hQi1l4JnNmoMWKSClDJqo9tyELnciXo",Authorization:`Bearer ${null==p?void 0:p.access_token}`}});if(!e.ok)throw new Error("Impossible de rÃ©cupÃ©rer la commande crÃ©Ã©e");{const a=await e.json().catch(()=>[]);if(!(a.length>0))throw new Error("Aucune commande trouvÃ©e pour cet utilisateur");U=a[0].id}}if(!U)throw new Error("Impossible de rÃ©cupÃ©rer l'ID de la commande crÃ©Ã©e");const j=u.items.map(e=>({order_id:U,product_id:e.productId,quantity:e.quantity,price_dzd:e.price,size:e.size||null,color:e.color||null}));if(!j.length)throw new Error("Aucun article dans la commande");for(const e of j)if(!e.product_id||!e.quantity||void 0===e.price_dzd)throw new Error("DonnÃ©es d'article incomplÃ¨tes");const w=await fetch("https://zvyhuqkyeyzkjdvafdkx.supabase.co/rest/v1/order_items",{method:"POST",headers:{"Content-Type":"application/json",apikey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inp2eWh1cWt5ZXl6a2pkdmFmZGt4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjIyOTc0NzUsImV4cCI6MjA3Nzg3MzQ3NX0.1NWeXi4URFI7hQi1l4JnNmoMWKSClDJqo9tyELnciXo",Authorization:`Bearer ${null==p?void 0:p.access_token}`},body:JSON.stringify(j)});if(!w.ok){await w.text();if(401===w.status)throw new Error("Session expirÃ©e. Veuillez vous reconnecter.");throw new Error("Erreur lors de l'ajout des articles")}d(),l(`/order-success/${U}`)}catch(p){let e="Erreur lors de la commande";p instanceof Error&&(p.message.includes("Session expirÃ©e")||p.message.includes("reconnecter")?(e="Votre session a expirÃ©. Veuillez vous reconnecter et rÃ©essayer.",setTimeout(()=>{l("/login")},3e3)):e=p.message.includes("JSON")?"Erreur de communication avec le serveur. Veuillez rÃ©essayer.":p.message),alert(e)}finally{u(!1)}}else alert("Votre panier est vide")},disabled:p||!g&&!f,className:"w-full bg-yellow-500 text-white py-3 rounded-md font-bold disabled:opacity-50","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx:790:12","data-matrix-name":"button","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/CheckoutPage.tsx","data-component-line":"790","data-component-file":"CheckoutPage.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BIdentifier%5D%22%2C%22disabled%22%3A%22%5BLogicalExpression%5D%22%2C%22className%22%3A%22w-full%20bg-yellow-500%20text-white%20py-3%20rounded-md%20font-bold%20disabled%3Aopacity-50%22%7D",children:p?"Traitement...":"Passer la commande"})]})})})}export{i as default};
