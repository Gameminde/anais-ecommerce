import{u as e,s as a,j as t}from"./index-BY5KfpVQ.js";import{r as s}from"./vendor-CqcxEAra.js";import"./ui-DT7K8H-1.js";import"./utils-CRyZlS6r.js";function n(){const[n,r]=s.useState([]),[o,c]=s.useState(!0),{user:i}=e();s.useEffect(()=>{m()},[i]);const m=async()=>{const{data:{session:e}}=await a.auth.getSession(),t=await fetch("https://zvyhuqkyeyzkjdvafdkx.supabase.co/functions/v1/user-orders",{headers:{Authorization:`Bearer ${null==e?void 0:e.access_token}`}}),{orders:s}=await t.json();r(s||[]),c(!1)};return o?t.jsx("div",{className:"text-center py-8","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/OrderHistoryPage.tsx:29:22","data-matrix-name":"div","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/OrderHistoryPage.tsx","data-component-line":"29","data-component-file":"OrderHistoryPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-center%20py-8%22%7D",children:"Chargement..."}):t.jsxs("div",{className:"max-w-4xl mx-auto p-4","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/OrderHistoryPage.tsx:32:4","data-matrix-name":"div","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/OrderHistoryPage.tsx","data-component-line":"32","data-component-file":"OrderHistoryPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22max-w-4xl%20mx-auto%20p-4%22%7D",children:[t.jsx("h1",{className:"text-2xl font-bold mb-6","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/OrderHistoryPage.tsx:33:6","data-matrix-name":"h1","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/OrderHistoryPage.tsx","data-component-line":"33","data-component-file":"OrderHistoryPage.tsx","data-component-name":"h1","data-component-content":"%7B%22className%22%3A%22text-2xl%20font-bold%20mb-6%22%7D",children:"Historique des commandes"}),t.jsx("div",{className:"space-y-4","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/OrderHistoryPage.tsx:35:6","data-matrix-name":"div","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/OrderHistoryPage.tsx","data-component-line":"35","data-component-file":"OrderHistoryPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22space-y-4%22%7D",children:n.map(e=>{var a;return t.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/OrderHistoryPage.tsx:37:10","data-matrix-name":"div","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/OrderHistoryPage.tsx","data-component-line":"37","data-component-file":"OrderHistoryPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-white%20p-4%20rounded-lg%20shadow-md%22%7D",children:[t.jsxs("div",{className:"flex justify-between mb-2","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/OrderHistoryPage.tsx:38:12","data-matrix-name":"div","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/OrderHistoryPage.tsx","data-component-line":"38","data-component-file":"OrderHistoryPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20justify-between%20mb-2%22%7D",children:[t.jsxs("p",{className:"font-semibold","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/OrderHistoryPage.tsx:39:14","data-matrix-name":"p","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/OrderHistoryPage.tsx","data-component-line":"39","data-component-file":"OrderHistoryPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22font-semibold%22%7D",children:["Commande #",e.id]}),t.jsx("p",{className:"text-sm text-gray-500","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/OrderHistoryPage.tsx:40:14","data-matrix-name":"p","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/OrderHistoryPage.tsx","data-component-line":"40","data-component-file":"OrderHistoryPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20text-gray-500%22%7D",children:null==(a=e.created_at)?void 0:a.split("T")[0]})]}),t.jsxs("p",{className:"text-sm mb-2","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/OrderHistoryPage.tsx:42:12","data-matrix-name":"p","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/OrderHistoryPage.tsx","data-component-line":"42","data-component-file":"OrderHistoryPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20mb-2%22%7D",children:["Total: ",e.total_amount," DZD"]}),t.jsxs("p",{className:"text-sm mb-4","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/OrderHistoryPage.tsx:43:12","data-matrix-name":"p","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/OrderHistoryPage.tsx","data-component-line":"43","data-component-file":"OrderHistoryPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20mb-4%22%7D",children:["Statut: ",e.status]}),t.jsx("button",{className:"text-yellow-500 text-sm","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/OrderHistoryPage.tsx:44:12","data-matrix-name":"button","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/OrderHistoryPage.tsx","data-component-line":"44","data-component-file":"OrderHistoryPage.tsx","data-component-name":"button","data-component-content":"%7B%22className%22%3A%22text-yellow-500%20text-sm%22%7D",children:"Voir les détails →"})]},e.id)})})]})}export{n as default};
