import{s as e,j as a}from"./index-DTKYLyWi.js";import{r as t}from"./vendor-CqcxEAra.js";import{A as n}from"./AdminLayout-DuHw5Ghb.js";import"./ui-DT7K8H-1.js";import"./utils-CRyZlS6r.js";function o({product:n,onSave:o,onCancel:s,isLoading:c=!1}){var m,r;const[i,d]=t.useState([]),[p,l]=t.useState(!0);t.useEffect(()=>{(async()=>{try{const{data:a,error:t}=await e.from("categories").select("id, name_en, name_fr").eq("is_active",!0).order("name_en");t||d(a||[])}catch(a){}finally{l(!1)}})()},[]);const[u,x]=t.useState({name_en:(null==n?void 0:n.name_en)||"",name_ar:(null==n?void 0:n.name_ar)||"",name_fr:(null==n?void 0:n.name_fr)||"",description_en:(null==n?void 0:n.description_en)||"",description_ar:(null==n?void 0:n.description_ar)||"",description_fr:(null==n?void 0:n.description_fr)||"",price_dzd:(null==n?void 0:n.price_dzd)||0,sale_price_dzd:null==n?void 0:n.sale_price_dzd,category_id:(null==n?void 0:n.category_id)||"",sku:(null==n?void 0:n.sku)||"",product_type:(null==n?void 0:n.product_type)||"ensemble",sizes:(null==n?void 0:n.sizes)||[],colors:(null==n?void 0:n.colors)||[],is_featured:(null==n?void 0:n.is_featured)||!1,is_active:void 0===(null==n?void 0:n.is_active)||n.is_active,images:(null==n?void 0:n.images)||[]}),[f,g]=t.useState(""),[h,P]=t.useState(""),[y,A]=t.useState({}),[C,b]=t.useState(!1);t.useEffect(()=>{v()},[]);const v=async()=>{try{const{data:a,error:t}=await e.from("categories").select("id, name_en, name_fr").eq("is_active",!0).order("name_en");if(t)throw t;d(a||[])}catch(a){}},U=(e,a)=>{x(t=>({...t,[e]:a})),y[e]&&A(a=>({...a,[e]:""}))},F=()=>{var e;f.trim()&&!(null==(e=u.sizes)?void 0:e.includes(f.trim()))&&(x(e=>({...e,sizes:[...e.sizes||[],f.trim()]})),g(""))},N=()=>{var e;h.trim()&&!(null==(e=u.colors)?void 0:e.includes(h.trim()))&&(x(e=>({...e,colors:[...e.colors||[],h.trim()]})),P(""))};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx:255:4","data-matrix-name":"div","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx","data-component-line":"255","data-component-file":"ProductForm.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22fixed%20inset-0%20bg-black%20bg-opacity-50%20flex%20items-center%20justify-center%20z-50%22%7D",children:a.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx:256:6","data-matrix-name":"div","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx","data-component-line":"256","data-component-file":"ProductForm.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-white%20rounded-lg%20shadow-xl%20max-w-4xl%20w-full%20mx-4%20max-h-%5B90vh%5D%20overflow-y-auto%22%7D",children:a.jsxs("div",{className:"p-6","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx:257:8","data-matrix-name":"div","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx","data-component-line":"257","data-component-file":"ProductForm.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22p-6%22%7D",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx:258:10","data-matrix-name":"div","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx","data-component-line":"258","data-component-file":"ProductForm.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20justify-between%20items-center%20mb-6%22%7D",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx:259:12","data-matrix-name":"h2","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx","data-component-line":"259","data-component-file":"ProductForm.tsx","data-component-name":"h2","data-component-content":"%7B%22className%22%3A%22text-2xl%20font-bold%20text-gray-900%22%7D",children:n?"Modifier le Produit":"Nouveau Produit"}),a.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx:262:12","data-matrix-name":"button","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx","data-component-line":"262","data-component-file":"ProductForm.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22text-gray-400%20hover%3Atext-gray-600%22%7D",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx:266:14","data-matrix-name":"svg","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx","data-component-line":"266","data-component-file":"ProductForm.tsx","data-component-name":"svg","data-component-content":"%7B%22className%22%3A%22w-6%20h-6%22%2C%22fill%22%3A%22none%22%2C%22stroke%22%3A%22currentColor%22%2C%22viewBox%22%3A%220%200%2024%2024%22%7D",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsxs("form",{onSubmit:e=>{e.preventDefault(),(()=>{var e;const a={};return u.name_en.trim()||(a.name_en="Le nom anglais est requis"),(null==(e=u.description_en)?void 0:e.trim())||(a.description_en="La description anglaise est requise"),u.category_id||(a.category_id="La cat√©gorie est requise"),u.price_dzd<=0&&(a.price_dzd="Le prix doit √™tre sup√©rieur √† 0"),u.sale_price_dzd&&u.sale_price_dzd>=u.price_dzd&&(a.sale_price_dzd="Le prix sold√© doit √™tre inf√©rieur au prix normal"),u.product_type&&["ensemble","perfume","makeup","gift_box"].includes(u.product_type)||(a.product_type="Le type de produit est invalide"),A(a),0===Object.keys(a).length})()&&o(u)},className:"space-y-6","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx:272:10","data-matrix-name":"form","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx","data-component-line":"272","data-component-file":"ProductForm.tsx","data-component-name":"form","data-component-content":"%7B%22onSubmit%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22space-y-6%22%7D",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx:274:12","data-matrix-name":"div","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx","data-component-line":"274","data-component-file":"ProductForm.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22grid%20grid-cols-1%20md%3Agrid-cols-2%20gap-6%22%7D",children:[a.jsxs("div",{"data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx:275:14","data-matrix-name":"div","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx","data-component-line":"275","data-component-file":"ProductForm.tsx","data-component-name":"div",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx:276:16","data-matrix-name":"label","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx","data-component-line":"276","data-component-file":"ProductForm.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22block%20text-sm%20font-medium%20text-gray-700%20mb-2%22%7D",children:"Nom (Anglais) *"}),a.jsx("input",{type:"text",value:u.name_en,onChange:e=>U("name_en",e.target.value),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-anais-gold "+(y.name_en?"border-red-500":"border-gray-300"),placeholder:"Nom du produit en anglais","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx:279:16","data-matrix-name":"input","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx","data-component-line":"279","data-component-file":"ProductForm.tsx","data-component-name":"input","data-component-content":"%7B%22type%22%3A%22text%22%2C%22value%22%3A%22%5BMemberExpression%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22%5BTemplateLiteral%5D%22%2C%22placeholder%22%3A%22Nom%20du%20produit%20en%20anglais%22%7D"}),y.name_en&&a.jsx("p",{className:"text-red-500 text-sm mt-1","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx:288:35","data-matrix-name":"p","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx","data-component-line":"288","data-component-file":"ProductForm.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-red-500%20text-sm%20mt-1%22%7D",children:y.name_en})]}),a.jsxs("div",{"data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx:291:14","data-matrix-name":"div","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx","data-component-line":"291","data-component-file":"ProductForm.tsx","data-component-name":"div",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx:292:16","data-matrix-name":"label","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx","data-component-line":"292","data-component-file":"ProductForm.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22block%20text-sm%20font-medium%20text-gray-700%20mb-2%22%7D",children:"Nom (Fran√ßais)"}),a.jsx("input",{type:"text",value:u.name_fr||"",onChange:e=>U("name_fr",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-anais-gold",placeholder:"Nom du produit en fran√ßais","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx:295:16","data-matrix-name":"input","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx","data-component-line":"295","data-component-file":"ProductForm.tsx","data-component-name":"input","data-component-content":"%7B%22type%22%3A%22text%22%2C%22value%22%3A%22%5BLogicalExpression%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22w-full%20px-3%20py-2%20border%20border-gray-300%20rounded-md%20focus%3Aoutline-none%20focus%3Aring-2%20focus%3Aring-anais-gold%22%2C%22placeholder%22%3A%22Nom%20du%20produit%20en%20fran%C3%A7ais%22%7D"})]})]}),a.jsxs("div",{"data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx:306:12","data-matrix-name":"div","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx","data-component-line":"306","data-component-file":"ProductForm.tsx","data-component-name":"div",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx:307:14","data-matrix-name":"label","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx","data-component-line":"307","data-component-file":"ProductForm.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22block%20text-sm%20font-medium%20text-gray-700%20mb-2%22%7D",children:"Description (Anglais) *"}),a.jsx("textarea",{value:u.description_en||"",onChange:e=>U("description_en",e.target.value),rows:4,className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-anais-gold "+(y.description_en?"border-red-500":"border-gray-300"),placeholder:"Description d√©taill√©e du produit","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx:310:14","data-matrix-name":"textarea","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx","data-component-line":"310","data-component-file":"ProductForm.tsx","data-component-name":"textarea","data-component-content":"%7B%22value%22%3A%22%5BLogicalExpression%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22rows%22%3A4%2C%22className%22%3A%22%5BTemplateLiteral%5D%22%2C%22placeholder%22%3A%22Description%20d%C3%A9taill%C3%A9e%20du%20produit%22%7D"}),y.description_en&&a.jsx("p",{className:"text-red-500 text-sm mt-1","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx:319:40","data-matrix-name":"p","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx","data-component-line":"319","data-component-file":"ProductForm.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-red-500%20text-sm%20mt-1%22%7D",children:y.description_en})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx:323:12","data-matrix-name":"div","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx","data-component-line":"323","data-component-file":"ProductForm.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22grid%20grid-cols-1%20md%3Agrid-cols-3%20gap-6%22%7D",children:[a.jsxs("div",{"data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx:324:14","data-matrix-name":"div","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx","data-component-line":"324","data-component-file":"ProductForm.tsx","data-component-name":"div",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx:325:16","data-matrix-name":"label","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx","data-component-line":"325","data-component-file":"ProductForm.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22block%20text-sm%20font-medium%20text-gray-700%20mb-2%22%7D",children:"Prix (DZD) *"}),a.jsx("input",{type:"number",value:u.price_dzd,onChange:e=>U("price_dzd",parseFloat(e.target.value)||0),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-anais-gold "+(y.price_dzd?"border-red-500":"border-gray-300"),placeholder:"0.00",step:"0.01",min:"0","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx:328:16","data-matrix-name":"input","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx","data-component-line":"328","data-component-file":"ProductForm.tsx","data-component-name":"input","data-component-content":"%7B%22type%22%3A%22number%22%2C%22value%22%3A%22%5BMemberExpression%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22%5BTemplateLiteral%5D%22%2C%22placeholder%22%3A%220.00%22%2C%22step%22%3A%220.01%22%2C%22min%22%3A%220%22%7D"}),y.price_dzd&&a.jsx("p",{className:"text-red-500 text-sm mt-1","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx:339:37","data-matrix-name":"p","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx","data-component-line":"339","data-component-file":"ProductForm.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-red-500%20text-sm%20mt-1%22%7D",children:y.price_dzd})]}),a.jsxs("div",{"data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx:342:14","data-matrix-name":"div","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx","data-component-line":"342","data-component-file":"ProductForm.tsx","data-component-name":"div",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx:343:16","data-matrix-name":"label","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx","data-component-line":"343","data-component-file":"ProductForm.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22block%20text-sm%20font-medium%20text-gray-700%20mb-2%22%7D",children:"Prix sold√© (DZD)"}),a.jsx("input",{type:"number",value:u.sale_price_dzd||"",onChange:e=>U("sale_price_dzd",e.target.value?parseFloat(e.target.value):void 0),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-anais-gold "+(y.sale_price_dzd?"border-red-500":"border-gray-300"),placeholder:"Optionnel",step:"0.01",min:"0","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx:346:16","data-matrix-name":"input","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx","data-component-line":"346","data-component-file":"ProductForm.tsx","data-component-name":"input","data-component-content":"%7B%22type%22%3A%22number%22%2C%22value%22%3A%22%5BLogicalExpression%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22%5BTemplateLiteral%5D%22%2C%22placeholder%22%3A%22Optionnel%22%2C%22step%22%3A%220.01%22%2C%22min%22%3A%220%22%7D"}),y.sale_price_dzd&&a.jsx("p",{className:"text-red-500 text-sm mt-1","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx:357:42","data-matrix-name":"p","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx","data-component-line":"357","data-component-file":"ProductForm.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-red-500%20text-sm%20mt-1%22%7D",children:y.sale_price_dzd})]}),a.jsxs("div",{"data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx:360:14","data-matrix-name":"div","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx","data-component-line":"360","data-component-file":"ProductForm.tsx","data-component-name":"div",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx:361:16","data-matrix-name":"label","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx","data-component-line":"361","data-component-file":"ProductForm.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22block%20text-sm%20font-medium%20text-gray-700%20mb-2%22%7D",children:"Cat√©gorie *"}),a.jsxs("select",{value:u.category_id,onChange:e=>U("category_id",e.target.value),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-anais-gold "+(y.category_id?"border-red-500":"border-gray-300"),"data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx:364:16","data-matrix-name":"select","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx","data-component-line":"364","data-component-file":"ProductForm.tsx","data-component-name":"select","data-component-content":"%7B%22value%22%3A%22%5BMemberExpression%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22%5BTemplateLiteral%5D%22%7D",children:[a.jsx("option",{value:"","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx:371:18","data-matrix-name":"option","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx","data-component-line":"371","data-component-file":"ProductForm.tsx","data-component-name":"option","data-component-content":"%7B%22value%22%3A%22%22%7D",children:"S√©lectionner une cat√©gorie"}),i.map(e=>a.jsxs("option",{value:e.id,"data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx:373:20","data-matrix-name":"option","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx","data-component-line":"373","data-component-file":"ProductForm.tsx","data-component-name":"option","data-component-content":"%7B%22value%22%3A%22%5BMemberExpression%5D%22%7D",children:[e.name_en," ",e.name_fr&&`(${e.name_fr})`]},e.id))]}),y.category_id&&a.jsx("p",{className:"text-red-500 text-sm mt-1","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx:378:39","data-matrix-name":"p","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx","data-component-line":"378","data-component-file":"ProductForm.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-red-500%20text-sm%20mt-1%22%7D",children:y.category_id})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx:383:12","data-matrix-name":"div","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx","data-component-line":"383","data-component-file":"ProductForm.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22grid%20grid-cols-1%20md%3Agrid-cols-2%20gap-6%22%7D",children:[a.jsxs("div",{"data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx:384:14","data-matrix-name":"div","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx","data-component-line":"384","data-component-file":"ProductForm.tsx","data-component-name":"div",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx:385:16","data-matrix-name":"label","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx","data-component-line":"385","data-component-file":"ProductForm.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22block%20text-sm%20font-medium%20text-gray-700%20mb-2%22%7D",children:"Type de produit"}),a.jsxs("select",{value:u.product_type,onChange:e=>U("product_type",e.target.value),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-anais-gold "+(y.product_type?"border-red-500":"border-gray-300"),"data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx:388:16","data-matrix-name":"select","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx","data-component-line":"388","data-component-file":"ProductForm.tsx","data-component-name":"select","data-component-content":"%7B%22value%22%3A%22%5BMemberExpression%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22%5BTemplateLiteral%5D%22%7D",children:[a.jsx("option",{value:"ensemble","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx:395:18","data-matrix-name":"option","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx","data-component-line":"395","data-component-file":"ProductForm.tsx","data-component-name":"option","data-component-content":"%7B%22value%22%3A%22ensemble%22%7D",children:"Ensemble"}),a.jsx("option",{value:"perfume","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx:396:18","data-matrix-name":"option","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx","data-component-line":"396","data-component-file":"ProductForm.tsx","data-component-name":"option","data-component-content":"%7B%22value%22%3A%22perfume%22%7D",children:"Parfum"}),a.jsx("option",{value:"makeup","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx:397:18","data-matrix-name":"option","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx","data-component-line":"397","data-component-file":"ProductForm.tsx","data-component-name":"option","data-component-content":"%7B%22value%22%3A%22makeup%22%7D",children:"Maquillage"}),a.jsx("option",{value:"gift_box","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx:398:18","data-matrix-name":"option","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx","data-component-line":"398","data-component-file":"ProductForm.tsx","data-component-name":"option","data-component-content":"%7B%22value%22%3A%22gift_box%22%7D",children:"Coffret cadeau"})]}),y.product_type&&a.jsx("p",{className:"text-red-500 text-sm mt-1","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx:400:40","data-matrix-name":"p","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx","data-component-line":"400","data-component-file":"ProductForm.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-red-500%20text-sm%20mt-1%22%7D",children:y.product_type})]}),a.jsxs("div",{"data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx:403:14","data-matrix-name":"div","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx","data-component-line":"403","data-component-file":"ProductForm.tsx","data-component-name":"div",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx:404:16","data-matrix-name":"label","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx","data-component-line":"404","data-component-file":"ProductForm.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22block%20text-sm%20font-medium%20text-gray-700%20mb-2%22%7D",children:"SKU (R√©f√©rence)"}),a.jsx("input",{type:"text",value:u.sku||"",onChange:e=>U("sku",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-anais-gold",placeholder:"Ex: RB-001","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx:407:16","data-matrix-name":"input","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx","data-component-line":"407","data-component-file":"ProductForm.tsx","data-component-name":"input","data-component-content":"%7B%22type%22%3A%22text%22%2C%22value%22%3A%22%5BLogicalExpression%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22w-full%20px-3%20py-2%20border%20border-gray-300%20rounded-md%20focus%3Aoutline-none%20focus%3Aring-2%20focus%3Aring-anais-gold%22%2C%22placeholder%22%3A%22Ex%3A%20RB-001%22%7D"})]})]}),a.jsxs("div",{"data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx:418:12","data-matrix-name":"div","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx","data-component-line":"418","data-component-file":"ProductForm.tsx","data-component-name":"div",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx:419:14","data-matrix-name":"label","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx","data-component-line":"419","data-component-file":"ProductForm.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22block%20text-sm%20font-medium%20text-gray-700%20mb-2%22%7D",children:"Images du produit"}),a.jsxs("div",{className:"mb-4","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx:424:14","data-matrix-name":"div","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx","data-component-line":"424","data-component-file":"ProductForm.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22mb-4%22%7D",children:[a.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-3 mb-3","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx:425:16","data-matrix-name":"div","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx","data-component-line":"425","data-component-file":"ProductForm.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-yellow-50%20border%20border-yellow-200%20rounded-md%20p-3%20mb-3%22%7D",children:[a.jsx("p",{className:"text-sm text-yellow-800 mb-2","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx:426:18","data-matrix-name":"p","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx","data-component-line":"426","data-component-file":"ProductForm.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20text-yellow-800%20mb-2%22%7D",children:a.jsx("strong",{"data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx:427:20","data-matrix-name":"strong","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx","data-component-line":"427","data-component-file":"ProductForm.tsx","data-component-name":"strong",children:"‚ö†Ô∏è Configuration requise :"})}),a.jsxs("div",{className:"text-sm text-yellow-800 space-y-2","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx:429:20","data-matrix-name":"div","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx","data-component-line":"429","data-component-file":"ProductForm.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-sm%20text-yellow-800%20space-y-2%22%7D",children:[a.jsx("div",{"data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx:430:20","data-matrix-name":"div","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx","data-component-line":"430","data-component-file":"ProductForm.tsx","data-component-name":"div",children:a.jsxs("p",{"data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx:431:22","data-matrix-name":"p","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx","data-component-line":"431","data-component-file":"ProductForm.tsx","data-component-name":"p",children:[a.jsx("strong",{"data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx:431:25","data-matrix-name":"strong","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx","data-component-line":"431","data-component-file":"ProductForm.tsx","data-component-name":"strong",children:"üìñ GUIDE COMPLET :"})," Suivez les instructions dans ",a.jsx("code",{"data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx:431:90","data-matrix-name":"code","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx","data-component-line":"431","data-component-file":"ProductForm.tsx","data-component-name":"code",children:"README_FIX.md"})," pour corriger tous les probl√®mes."]})}),a.jsxs("p",{className:"text-xs mt-2 text-green-700 bg-green-50 p-2 rounded border","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx:433:20","data-matrix-name":"p","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx","data-component-line":"433","data-component-file":"ProductForm.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-xs%20mt-2%20text-green-700%20bg-green-50%20p-2%20rounded%20border%22%7D",children:[a.jsx("strong",{"data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx:434:22","data-matrix-name":"strong","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx","data-component-line":"434","data-component-file":"ProductForm.tsx","data-component-name":"strong",children:"‚úÖ Solution inclut :"})," RLS r√©cursion, admin setup, stockage images"]}),a.jsxs("p",{className:"text-xs mt-2 text-red-600","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx:436:20","data-matrix-name":"p","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx","data-component-line":"436","data-component-file":"ProductForm.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-xs%20mt-2%20text-red-600%22%7D",children:[a.jsx("strong",{"data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx:437:22","data-matrix-name":"strong","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx","data-component-line":"437","data-component-file":"ProductForm.tsx","data-component-name":"strong",children:"Important :"})," Assurez-vous d'√™tre connect√© avec l'email admin@anais.com avant de tester."]}),a.jsxs("div",{className:"mt-2 p-2 bg-red-50 border border-red-200 rounded text-xs text-red-700","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx:439:20","data-matrix-name":"div","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx","data-component-line":"439","data-component-file":"ProductForm.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22mt-2%20p-2%20bg-red-50%20border%20border-red-200%20rounded%20text-xs%20text-red-700%22%7D",children:[a.jsx("strong",{"data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx:440:22","data-matrix-name":"strong","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx","data-component-line":"440","data-component-file":"ProductForm.tsx","data-component-name":"strong",children:"‚ö†Ô∏è Statut actuel :"})," Vous n'√™tes pas connect√©. Connectez-vous d'abord avec admin@anais.com !"]})]})]}),a.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:async a=>{var t,n;const o=a.target.files;if(o&&0!==o.length){b(!0);try{const a=[];for(const[s,c]of Array.from(o).entries()){const o=c.name.split(".").pop(),m=`${`${Date.now()}-${Math.random().toString(36).substring(2)}.${o}`}`,{error:r}=await e.storage.from("products").upload(m,c);if(r)continue;const{data:{publicUrl:i}}=e.storage.from("products").getPublicUrl(m);a.push({image_url:i,alt_text:u.name_en||"Product image",display_order:((null==(t=u.images)?void 0:t.length)||0)+s,is_primary:((null==(n=u.images)?void 0:n.length)||0)+s===0})}x(e=>({...e,images:[...e.images||[],...a]}))}catch(s){alert("Erreur lors du t√©l√©chargement des images")}finally{b(!1)}}},disabled:C,className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-anais-gold file:text-white hover:file:bg-anais-gold-dark disabled:opacity-50","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx:444:16","data-matrix-name":"input","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx","data-component-line":"444","data-component-file":"ProductForm.tsx","data-component-name":"input","data-component-content":"%7B%22type%22%3A%22file%22%2C%22multiple%22%3Atrue%2C%22accept%22%3A%22image%2F*%22%2C%22onChange%22%3A%22%5BIdentifier%5D%22%2C%22disabled%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22block%20w-full%20text-sm%20text-gray-500%20file%3Amr-4%20file%3Apy-2%20file%3Apx-4%20file%3Arounded-full%20file%3Aborder-0%20file%3Atext-sm%20file%3Afont-semibold%20file%3Abg-anais-gold%20file%3Atext-white%20hover%3Afile%3Abg-anais-gold-dark%20disabled%3Aopacity-50%22%7D"}),C&&a.jsx("p",{className:"text-sm text-blue-600 mt-2","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx:453:18","data-matrix-name":"p","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx","data-component-line":"453","data-component-file":"ProductForm.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20text-blue-600%20mt-2%22%7D",children:"T√©l√©chargement en cours..."})]}),u.images&&u.images.length>0&&a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx:459:16","data-matrix-name":"div","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx","data-component-line":"459","data-component-file":"ProductForm.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22grid%20grid-cols-2%20md%3Agrid-cols-4%20gap-4%20mb-4%22%7D",children:u.images.map((e,t)=>a.jsxs("div",{className:"relative","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx:461:20","data-matrix-name":"div","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx","data-component-line":"461","data-component-file":"ProductForm.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22relative%22%7D",children:[a.jsx("img",{src:e.image_url,alt:e.alt_text||"Product image",className:"w-full h-24 object-cover rounded-lg border","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx:462:22","data-matrix-name":"img","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx","data-component-line":"462","data-component-file":"ProductForm.tsx","data-component-name":"img","data-component-content":"%7B%22src%22%3A%22%5BMemberExpression%5D%22%2C%22alt%22%3A%22%5BLogicalExpression%5D%22%2C%22className%22%3A%22w-full%20h-24%20object-cover%20rounded-lg%20border%22%7D"}),a.jsx("button",{type:"button",onClick:()=>(e=>{x(a=>{var t;return{...a,images:(null==(t=a.images)?void 0:t.filter((a,t)=>t!==e))||[]}})})(t),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm hover:bg-red-600","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx:467:22","data-matrix-name":"button","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx","data-component-line":"467","data-component-file":"ProductForm.tsx","data-component-name":"button","data-component-content":"%7B%22type%22%3A%22button%22%2C%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22absolute%20-top-2%20-right-2%20bg-red-500%20text-white%20rounded-full%20w-6%20h-6%20flex%20items-center%20justify-center%20text-sm%20hover%3Abg-red-600%22%7D",children:"√ó"})]},t))})]}),a.jsxs("div",{"data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx:481:12","data-matrix-name":"div","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx","data-component-line":"481","data-component-file":"ProductForm.tsx","data-component-name":"div",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx:482:14","data-matrix-name":"label","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx","data-component-line":"482","data-component-file":"ProductForm.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22block%20text-sm%20font-medium%20text-gray-700%20mb-2%22%7D",children:"Tailles disponibles"}),a.jsxs("div",{className:"flex gap-2 mb-2","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx:485:14","data-matrix-name":"div","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx","data-component-line":"485","data-component-file":"ProductForm.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20gap-2%20mb-2%22%7D",children:[a.jsx("input",{type:"text",value:f,onChange:e=>g(e.target.value),onKeyPress:e=>"Enter"===e.key&&(e.preventDefault(),F()),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-anais-gold",placeholder:"Ajouter une taille (ex: S, M, L)","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx:486:16","data-matrix-name":"input","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx","data-component-line":"486","data-component-file":"ProductForm.tsx","data-component-name":"input","data-component-content":"%7B%22type%22%3A%22text%22%2C%22value%22%3A%22%5BIdentifier%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22onKeyPress%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22flex-1%20px-3%20py-2%20border%20border-gray-300%20rounded-md%20focus%3Aoutline-none%20focus%3Aring-2%20focus%3Aring-anais-gold%22%2C%22placeholder%22%3A%22Ajouter%20une%20taille%20(ex%3A%20S%2C%20M%2C%20L)%22%7D"}),a.jsx("button",{type:"button",onClick:F,className:"px-4 py-2 bg-anais-gold text-white rounded-md hover:bg-anais-gold-dark","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx:494:16","data-matrix-name":"button","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx","data-component-line":"494","data-component-file":"ProductForm.tsx","data-component-name":"button","data-component-content":"%7B%22type%22%3A%22button%22%2C%22onClick%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22px-4%20py-2%20bg-anais-gold%20text-white%20rounded-md%20hover%3Abg-anais-gold-dark%22%7D",children:"Ajouter"})]}),a.jsx("div",{className:"flex flex-wrap gap-2","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx:502:14","data-matrix-name":"div","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx","data-component-line":"502","data-component-file":"ProductForm.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20flex-wrap%20gap-2%22%7D",children:null==(m=u.sizes)?void 0:m.map(e=>a.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-gray-100 text-gray-800","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx:504:18","data-matrix-name":"span","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx","data-component-line":"504","data-component-file":"ProductForm.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22inline-flex%20items-center%20px-3%20py-1%20rounded-full%20text-sm%20bg-gray-100%20text-gray-800%22%7D",children:[e,a.jsx("button",{type:"button",onClick:()=>(e=>{x(a=>{var t;return{...a,sizes:(null==(t=a.sizes)?void 0:t.filter(a=>a!==e))||[]}})})(e),className:"ml-2 text-gray-500 hover:text-gray-700","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx:509:20","data-matrix-name":"button","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx","data-component-line":"509","data-component-file":"ProductForm.tsx","data-component-name":"button","data-component-content":"%7B%22type%22%3A%22button%22%2C%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22ml-2%20text-gray-500%20hover%3Atext-gray-700%22%7D",children:"√ó"})]},e))})]}),a.jsxs("div",{"data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx:522:12","data-matrix-name":"div","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx","data-component-line":"522","data-component-file":"ProductForm.tsx","data-component-name":"div",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx:523:14","data-matrix-name":"label","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx","data-component-line":"523","data-component-file":"ProductForm.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22block%20text-sm%20font-medium%20text-gray-700%20mb-2%22%7D",children:"Couleurs disponibles"}),a.jsxs("div",{className:"flex gap-2 mb-2","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx:526:14","data-matrix-name":"div","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx","data-component-line":"526","data-component-file":"ProductForm.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20gap-2%20mb-2%22%7D",children:[a.jsx("input",{type:"text",value:h,onChange:e=>P(e.target.value),onKeyPress:e=>"Enter"===e.key&&(e.preventDefault(),N()),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-anais-gold",placeholder:"Ajouter une couleur (ex: Rouge, Bleu)","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx:527:16","data-matrix-name":"input","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx","data-component-line":"527","data-component-file":"ProductForm.tsx","data-component-name":"input","data-component-content":"%7B%22type%22%3A%22text%22%2C%22value%22%3A%22%5BIdentifier%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22onKeyPress%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22flex-1%20px-3%20py-2%20border%20border-gray-300%20rounded-md%20focus%3Aoutline-none%20focus%3Aring-2%20focus%3Aring-anais-gold%22%2C%22placeholder%22%3A%22Ajouter%20une%20couleur%20(ex%3A%20Rouge%2C%20Bleu)%22%7D"}),a.jsx("button",{type:"button",onClick:N,className:"px-4 py-2 bg-anais-gold text-white rounded-md hover:bg-anais-gold-dark","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx:535:16","data-matrix-name":"button","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx","data-component-line":"535","data-component-file":"ProductForm.tsx","data-component-name":"button","data-component-content":"%7B%22type%22%3A%22button%22%2C%22onClick%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22px-4%20py-2%20bg-anais-gold%20text-white%20rounded-md%20hover%3Abg-anais-gold-dark%22%7D",children:"Ajouter"})]}),a.jsx("div",{className:"flex flex-wrap gap-2","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx:543:14","data-matrix-name":"div","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx","data-component-line":"543","data-component-file":"ProductForm.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20flex-wrap%20gap-2%22%7D",children:null==(r=u.colors)?void 0:r.map(e=>a.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-gray-100 text-gray-800","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx:545:18","data-matrix-name":"span","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx","data-component-line":"545","data-component-file":"ProductForm.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22inline-flex%20items-center%20px-3%20py-1%20rounded-full%20text-sm%20bg-gray-100%20text-gray-800%22%7D",children:[e,a.jsx("button",{type:"button",onClick:()=>(e=>{x(a=>{var t;return{...a,colors:(null==(t=a.colors)?void 0:t.filter(a=>a!==e))||[]}})})(e),className:"ml-2 text-gray-500 hover:text-gray-700","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx:550:20","data-matrix-name":"button","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx","data-component-line":"550","data-component-file":"ProductForm.tsx","data-component-name":"button","data-component-content":"%7B%22type%22%3A%22button%22%2C%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22ml-2%20text-gray-500%20hover%3Atext-gray-700%22%7D",children:"√ó"})]},e))})]}),a.jsxs("div",{className:"flex items-center space-x-6","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx:563:12","data-matrix-name":"div","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx","data-component-line":"563","data-component-file":"ProductForm.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20space-x-6%22%7D",children:[a.jsxs("label",{className:"flex items-center","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx:564:14","data-matrix-name":"label","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx","data-component-line":"564","data-component-file":"ProductForm.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22flex%20items-center%22%7D",children:[a.jsx("input",{type:"checkbox",checked:u.is_featured,onChange:e=>U("is_featured",e.target.checked),className:"rounded border-gray-300 text-anais-gold focus:ring-anais-gold","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx:565:16","data-matrix-name":"input","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx","data-component-line":"565","data-component-file":"ProductForm.tsx","data-component-name":"input","data-component-content":"%7B%22type%22%3A%22checkbox%22%2C%22checked%22%3A%22%5BMemberExpression%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22rounded%20border-gray-300%20text-anais-gold%20focus%3Aring-anais-gold%22%7D"}),a.jsx("span",{className:"ml-2 text-sm text-gray-700","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx:571:16","data-matrix-name":"span","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx","data-component-line":"571","data-component-file":"ProductForm.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22ml-2%20text-sm%20text-gray-700%22%7D",children:"Produit vedette"})]}),a.jsxs("label",{className:"flex items-center","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx:574:14","data-matrix-name":"label","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx","data-component-line":"574","data-component-file":"ProductForm.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22flex%20items-center%22%7D",children:[a.jsx("input",{type:"checkbox",checked:u.is_active,onChange:e=>U("is_active",e.target.checked),className:"rounded border-gray-300 text-anais-gold focus:ring-anais-gold","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx:575:16","data-matrix-name":"input","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx","data-component-line":"575","data-component-file":"ProductForm.tsx","data-component-name":"input","data-component-content":"%7B%22type%22%3A%22checkbox%22%2C%22checked%22%3A%22%5BMemberExpression%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22rounded%20border-gray-300%20text-anais-gold%20focus%3Aring-anais-gold%22%7D"}),a.jsx("span",{className:"ml-2 text-sm text-gray-700","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx:581:16","data-matrix-name":"span","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx","data-component-line":"581","data-component-file":"ProductForm.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22ml-2%20text-sm%20text-gray-700%22%7D",children:"Produit actif"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx:586:12","data-matrix-name":"div","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx","data-component-line":"586","data-component-file":"ProductForm.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20justify-end%20space-x-4%20pt-6%20border-t%22%7D",children:[a.jsx("button",{type:"button",onClick:s,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx:587:14","data-matrix-name":"button","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx","data-component-line":"587","data-component-file":"ProductForm.tsx","data-component-name":"button","data-component-content":"%7B%22type%22%3A%22button%22%2C%22onClick%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22px-4%20py-2%20text-gray-700%20bg-gray-100%20rounded-md%20hover%3Abg-gray-200%22%7D",children:"Annuler"}),a.jsx("button",{type:"submit",disabled:c,className:"px-6 py-2 bg-anais-gold text-white rounded-md hover:bg-anais-gold-dark disabled:opacity-50 disabled:cursor-not-allowed","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx:594:14","data-matrix-name":"button","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/components/admin/forms/ProductForm.tsx","data-component-line":"594","data-component-file":"ProductForm.tsx","data-component-name":"button","data-component-content":"%7B%22type%22%3A%22submit%22%2C%22disabled%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22px-6%20py-2%20bg-anais-gold%20text-white%20rounded-md%20hover%3Abg-anais-gold-dark%20disabled%3Aopacity-50%20disabled%3Acursor-not-allowed%22%7D",children:c?"Enregistrement...":n?"Modifier":"Cr√©er"})]})]})]})})})}function s(){const[s,c]=t.useState([]),[m,r]=t.useState({page:1,limit:20,total:0,totalPages:0}),[i,d]=t.useState(!0),[p,l]=t.useState(null),[u,x]=t.useState(""),[f,g]=t.useState(!0),[h,P]=t.useState(!1),[y,A]=t.useState(null),[C,b]=t.useState(!1),[v,U]=t.useState(new Map),F=t.useCallback(async()=>{try{d(!0),l(null);let a=e.from("products").select("*",{count:"exact"}).order("created_at",{ascending:!1}).range((m.page-1)*m.limit,m.page*m.limit-1);u&&(a=a.or(`name_en.ilike.%${u}%,description_en.ilike.%${u}%`)),null!==f&&(a=a.eq("is_active",f));const{data:t,error:n,count:o}=await a;if(n)throw n;const s=(null==t?void 0:t.map(e=>e.category_id).filter(e=>e))||[];let i=new Map;if(s.length>0){const{data:a,error:t}=await e.from("categories").select("id, name_en, name_fr, name_ar").in("id",s);!t&&a&&(i=new Map(a.map(e=>[e.id,e])))}U(i);const p=(null==t?void 0:t.map(e=>{var a,t;return{...e,category:(null==(a=i.get(e.category_id))?void 0:a.name_en)||(null==(t=i.get(e.category_id))?void 0:t.name_fr)||"N/A"}}))||[];c(p),r(e=>({...e,total:o||0,totalPages:Math.ceil((o||0)/m.limit)}))}catch(a){l(a instanceof Error?a.message:"Erreur lors du chargement des produits")}finally{d(!1)}},[m.page,m.limit,u,f]);t.useEffect(()=>{F()},[F]);const N=e=>{e>=1&&e<=m.totalPages&&r(a=>({...a,page:e}))};return a.jsxs(n,{"data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx:347:4","data-matrix-name":"AdminLayout","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx","data-component-line":"347","data-component-file":"AdminProductsPage.tsx","data-component-name":"AdminLayout",children:[a.jsxs("div",{className:"space-y-6","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx:348:6","data-matrix-name":"div","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx","data-component-line":"348","data-component-file":"AdminProductsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22space-y-6%22%7D",children:[a.jsxs("div",{className:"flex justify-between items-center bg-white p-6 rounded-lg shadow-md border border-gray-200","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx:350:8","data-matrix-name":"div","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx","data-component-line":"350","data-component-file":"AdminProductsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20justify-between%20items-center%20bg-white%20p-6%20rounded-lg%20shadow-md%20border%20border-gray-200%22%7D",children:[a.jsx("h1",{className:"text-3xl font-bold text-charcoal","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx:351:10","data-matrix-name":"h1","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx","data-component-line":"351","data-component-file":"AdminProductsPage.tsx","data-component-name":"h1","data-component-content":"%7B%22className%22%3A%22text-3xl%20font-bold%20text-charcoal%22%7D",children:"Gestion des Produits"}),a.jsxs("button",{onClick:()=>{A(null),P(!0)},className:"bg-anais-gold hover:bg-anais-gold-dark text-white px-8 py-4 rounded-lg font-bold shadow-xl hover:shadow-2xl transform hover:scale-105 transition-all duration-200 flex items-center space-x-3 border-2 border-anais-gold hover:border-anais-gold-dark","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx:352:10","data-matrix-name":"button","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx","data-component-line":"352","data-component-file":"AdminProductsPage.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22bg-anais-gold%20hover%3Abg-anais-gold-dark%20text-white%20px-8%20py-4%20rounded-lg%20font-bold%20shadow-xl%20hover%3Ashadow-2xl%20transform%20hover%3Ascale-105%20transition-all%20duration-200%20flex%20items-center%20space-x-3%20border-2%20border-anais-gold%20hover%3Aborder-anais-gold-dark%22%7D",children:[a.jsx("span",{className:"text-xl","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx:356:12","data-matrix-name":"span","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx","data-component-line":"356","data-component-file":"AdminProductsPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-xl%22%7D",children:"+"}),a.jsx("span",{className:"text-lg","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx:357:12","data-matrix-name":"span","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx","data-component-line":"357","data-component-file":"AdminProductsPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-lg%22%7D",children:"Nouveau Produit"})]})]}),a.jsx("div",{className:"bg-white p-4 rounded-lg shadow","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx:362:8","data-matrix-name":"div","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx","data-component-line":"362","data-component-file":"AdminProductsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-white%20p-4%20rounded-lg%20shadow%22%7D",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx:363:10","data-matrix-name":"div","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx","data-component-line":"363","data-component-file":"AdminProductsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22grid%20grid-cols-1%20md%3Agrid-cols-4%20gap-4%22%7D",children:[a.jsxs("div",{"data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx:364:12","data-matrix-name":"div","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx","data-component-line":"364","data-component-file":"AdminProductsPage.tsx","data-component-name":"div",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx:365:14","data-matrix-name":"label","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx","data-component-line":"365","data-component-file":"AdminProductsPage.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22block%20text-sm%20font-medium%20text-gray-700%20mb-1%22%7D",children:"Recherche"}),a.jsx("input",{type:"text",placeholder:"Nom du produit...",value:u,onChange:e=>x(e.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-anais-gold","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx:368:14","data-matrix-name":"input","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx","data-component-line":"368","data-component-file":"AdminProductsPage.tsx","data-component-name":"input","data-component-content":"%7B%22type%22%3A%22text%22%2C%22placeholder%22%3A%22Nom%20du%20produit...%22%2C%22value%22%3A%22%5BIdentifier%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22w-full%20border%20border-gray-300%20rounded-md%20px-3%20py-2%20focus%3Aoutline-none%20focus%3Aring-2%20focus%3Aring-anais-gold%22%7D"})]}),a.jsxs("div",{"data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx:377:12","data-matrix-name":"div","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx","data-component-line":"377","data-component-file":"AdminProductsPage.tsx","data-component-name":"div",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx:378:14","data-matrix-name":"label","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx","data-component-line":"378","data-component-file":"AdminProductsPage.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22block%20text-sm%20font-medium%20text-gray-700%20mb-1%22%7D",children:"Cat√©gorie"}),a.jsx("select",{disabled:!0,className:"w-full border border-gray-300 rounded-md px-3 py-2 bg-gray-100 text-gray-500 cursor-not-allowed","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx:381:14","data-matrix-name":"select","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx","data-component-line":"381","data-component-file":"AdminProductsPage.tsx","data-component-name":"select","data-component-content":"%7B%22disabled%22%3Atrue%2C%22className%22%3A%22w-full%20border%20border-gray-300%20rounded-md%20px-3%20py-2%20bg-gray-100%20text-gray-500%20cursor-not-allowed%22%7D",children:a.jsx("option",{value:"","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx:385:16","data-matrix-name":"option","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx","data-component-line":"385","data-component-file":"AdminProductsPage.tsx","data-component-name":"option","data-component-content":"%7B%22value%22%3A%22%22%7D",children:"Filtrage par cat√©gorie (bient√¥t disponible)"})})]}),a.jsxs("div",{"data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx:388:12","data-matrix-name":"div","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx","data-component-line":"388","data-component-file":"AdminProductsPage.tsx","data-component-name":"div",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx:389:14","data-matrix-name":"label","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx","data-component-line":"389","data-component-file":"AdminProductsPage.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22block%20text-sm%20font-medium%20text-gray-700%20mb-1%22%7D",children:"Statut"}),a.jsxs("select",{value:f.toString(),onChange:e=>g("true"===e.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-anais-gold","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx:392:14","data-matrix-name":"select","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx","data-component-line":"392","data-component-file":"AdminProductsPage.tsx","data-component-name":"select","data-component-content":"%7B%22value%22%3A%22%5BCallExpression%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22w-full%20border%20border-gray-300%20rounded-md%20px-3%20py-2%20focus%3Aoutline-none%20focus%3Aring-2%20focus%3Aring-anais-gold%22%7D",children:[a.jsx("option",{value:"true","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx:397:16","data-matrix-name":"option","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx","data-component-line":"397","data-component-file":"AdminProductsPage.tsx","data-component-name":"option","data-component-content":"%7B%22value%22%3A%22true%22%7D",children:"Actifs uniquement"}),a.jsx("option",{value:"false","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx:398:16","data-matrix-name":"option","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx","data-component-line":"398","data-component-file":"AdminProductsPage.tsx","data-component-name":"option","data-component-content":"%7B%22value%22%3A%22false%22%7D",children:"Tous les produits"})]})]}),a.jsx("div",{className:"flex items-end","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx:401:12","data-matrix-name":"div","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx","data-component-line":"401","data-component-file":"AdminProductsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-end%22%7D",children:a.jsx("button",{onClick:()=>{x(""),g(!0),r(e=>({...e,page:1}))},className:"w-full bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-md font-medium","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx:402:14","data-matrix-name":"button","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx","data-component-line":"402","data-component-file":"AdminProductsPage.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22w-full%20bg-gray-500%20hover%3Abg-gray-600%20text-white%20px-4%20py-2%20rounded-md%20font-medium%22%7D",children:"R√©initialiser"})})]})}),a.jsx("div",{className:"bg-white shadow overflow-hidden rounded-lg","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx:417:8","data-matrix-name":"div","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx","data-component-line":"417","data-component-file":"AdminProductsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-white%20shadow%20overflow-hidden%20rounded-lg%22%7D",children:i?a.jsxs("div",{className:"p-8 text-center","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx:419:12","data-matrix-name":"div","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx","data-component-line":"419","data-component-file":"AdminProductsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22p-8%20text-center%22%7D",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-anais-gold mx-auto","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx:420:14","data-matrix-name":"div","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx","data-component-line":"420","data-component-file":"AdminProductsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22animate-spin%20rounded-full%20h-12%20w-12%20border-b-2%20border-anais-gold%20mx-auto%22%7D"}),a.jsx("p",{className:"mt-4 text-gray-600","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx:421:14","data-matrix-name":"p","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx","data-component-line":"421","data-component-file":"AdminProductsPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22mt-4%20text-gray-600%22%7D",children:"Chargement des produits..."})]}):p?a.jsxs("div",{className:"p-8 text-center","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx:424:12","data-matrix-name":"div","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx","data-component-line":"424","data-component-file":"AdminProductsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22p-8%20text-center%22%7D",children:[a.jsx("div",{className:"text-red-500 mb-4","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx:425:14","data-matrix-name":"div","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx","data-component-line":"425","data-component-file":"AdminProductsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-red-500%20mb-4%22%7D",children:"‚ùå"}),a.jsx("p",{className:"text-red-600","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx:426:14","data-matrix-name":"p","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx","data-component-line":"426","data-component-file":"AdminProductsPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-red-600%22%7D",children:p})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"overflow-x-auto","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx:430:14","data-matrix-name":"div","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx","data-component-line":"430","data-component-file":"AdminProductsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22overflow-x-auto%22%7D",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx:431:16","data-matrix-name":"table","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx","data-component-line":"431","data-component-file":"AdminProductsPage.tsx","data-component-name":"table","data-component-content":"%7B%22className%22%3A%22min-w-full%20divide-y%20divide-gray-200%22%7D",children:[a.jsx("thead",{className:"bg-charcoal","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx:432:18","data-matrix-name":"thead","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx","data-component-line":"432","data-component-file":"AdminProductsPage.tsx","data-component-name":"thead","data-component-content":"%7B%22className%22%3A%22bg-charcoal%22%7D",children:a.jsxs("tr",{"data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx:433:20","data-matrix-name":"tr","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx","data-component-line":"433","data-component-file":"AdminProductsPage.tsx","data-component-name":"tr",children:[a.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-white uppercase tracking-wider","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx:434:22","data-matrix-name":"th","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx","data-component-line":"434","data-component-file":"AdminProductsPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22px-6%20py-4%20text-left%20text-sm%20font-bold%20text-white%20uppercase%20tracking-wider%22%7D",children:"Produit"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-white uppercase tracking-wider","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx:437:22","data-matrix-name":"th","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx","data-component-line":"437","data-component-file":"AdminProductsPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22px-6%20py-4%20text-left%20text-sm%20font-bold%20text-white%20uppercase%20tracking-wider%22%7D",children:"Cat√©gorie"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-white uppercase tracking-wider","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx:440:22","data-matrix-name":"th","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx","data-component-line":"440","data-component-file":"AdminProductsPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22px-6%20py-4%20text-left%20text-sm%20font-bold%20text-white%20uppercase%20tracking-wider%22%7D",children:"Prix"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-white uppercase tracking-wider","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx:443:22","data-matrix-name":"th","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx","data-component-line":"443","data-component-file":"AdminProductsPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22px-6%20py-4%20text-left%20text-sm%20font-bold%20text-white%20uppercase%20tracking-wider%22%7D",children:"Stock"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-white uppercase tracking-wider","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx:446:22","data-matrix-name":"th","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx","data-component-line":"446","data-component-file":"AdminProductsPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22px-6%20py-4%20text-left%20text-sm%20font-bold%20text-white%20uppercase%20tracking-wider%22%7D",children:"Statut"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-white uppercase tracking-wider","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx:449:22","data-matrix-name":"th","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx","data-component-line":"449","data-component-file":"AdminProductsPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22px-6%20py-4%20text-left%20text-sm%20font-bold%20text-white%20uppercase%20tracking-wider%22%7D",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx:454:18","data-matrix-name":"tbody","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx","data-component-line":"454","data-component-file":"AdminProductsPage.tsx","data-component-name":"tbody","data-component-content":"%7B%22className%22%3A%22bg-white%20divide-y%20divide-gray-200%22%7D",children:s.map(t=>{var n,o,s;return a.jsxs("tr",{className:"hover:bg-gray-100 transition-colors","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx:456:22","data-matrix-name":"tr","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx","data-component-line":"456","data-component-file":"AdminProductsPage.tsx","data-component-name":"tr","data-component-content":"%7B%22className%22%3A%22hover%3Abg-gray-100%20transition-colors%22%7D",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx:457:24","data-matrix-name":"td","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx","data-component-line":"457","data-component-file":"AdminProductsPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22px-6%20py-4%20whitespace-nowrap%22%7D",children:a.jsxs("div",{className:"flex items-center","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx:458:26","data-matrix-name":"div","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx","data-component-line":"458","data-component-file":"AdminProductsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%22%7D",children:[a.jsx("div",{className:"flex-shrink-0 h-12 w-12","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx:459:28","data-matrix-name":"div","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx","data-component-line":"459","data-component-file":"AdminProductsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex-shrink-0%20h-12%20w-12%22%7D",children:t.images&&t.images.length>0?a.jsx("img",{className:"h-12 w-12 rounded-lg object-cover",src:t.images[0].image_url,alt:t.name_en,"data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx:461:32","data-matrix-name":"img","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx","data-component-line":"461","data-component-file":"AdminProductsPage.tsx","data-component-name":"img","data-component-content":"%7B%22className%22%3A%22h-12%20w-12%20rounded-lg%20object-cover%22%2C%22src%22%3A%22%5BMemberExpression%5D%22%2C%22alt%22%3A%22%5BMemberExpression%5D%22%7D"}):a.jsx("div",{className:"h-12 w-12 rounded-lg bg-gray-200 flex items-center justify-center","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx:467:32","data-matrix-name":"div","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx","data-component-line":"467","data-component-file":"AdminProductsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22h-12%20w-12%20rounded-lg%20bg-gray-200%20flex%20items-center%20justify-center%22%7D",children:a.jsx("span",{className:"text-gray-400 text-xs","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx:468:34","data-matrix-name":"span","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx","data-component-line":"468","data-component-file":"AdminProductsPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-gray-400%20text-xs%22%7D",children:"üì¶"})})}),a.jsxs("div",{className:"ml-4","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx:472:28","data-matrix-name":"div","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx","data-component-line":"472","data-component-file":"AdminProductsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22ml-4%22%7D",children:[a.jsx("div",{className:"text-base font-semibold text-charcoal","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx:473:30","data-matrix-name":"div","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx","data-component-line":"473","data-component-file":"AdminProductsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-base%20font-semibold%20text-charcoal%22%7D",children:t.name_en}),a.jsxs("div",{className:"text-sm text-warm-gray","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx:476:30","data-matrix-name":"div","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx","data-component-line":"476","data-component-file":"AdminProductsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-sm%20text-warm-gray%22%7D",children:["Cr√©√© le ",(s=t.created_at,new Date(s).toLocaleDateString("fr-FR"))]})]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx:482:24","data-matrix-name":"td","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx","data-component-line":"482","data-component-file":"AdminProductsPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22px-6%20py-4%20whitespace-nowrap%22%7D",children:a.jsx("span",{className:"text-sm font-medium text-charcoal bg-warm-greige px-3 py-1 rounded-full","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx:483:26","data-matrix-name":"span","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx","data-component-line":"483","data-component-file":"AdminProductsPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-sm%20font-medium%20text-charcoal%20bg-warm-greige%20px-3%20py-1%20rounded-full%22%7D",children:(null==(n=v.get(t.category_id))?void 0:n.name_en)||"N/A"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx:487:24","data-matrix-name":"td","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx","data-component-line":"487","data-component-file":"AdminProductsPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22px-6%20py-4%20whitespace-nowrap%22%7D",children:a.jsx("span",{className:"text-lg font-bold text-success-green","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx:488:26","data-matrix-name":"span","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx","data-component-line":"488","data-component-file":"AdminProductsPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-lg%20font-bold%20text-success-green%22%7D",children:(o=t.price_dzd,new Intl.NumberFormat("fr-DZ",{style:"currency",currency:"DZD"}).format(o))})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx:492:24","data-matrix-name":"td","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx","data-component-line":"492","data-component-file":"AdminProductsPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22px-6%20py-4%20whitespace-nowrap%22%7D",children:a.jsx("span",{className:"text-sm font-medium text-info-blue bg-desert-sand px-3 py-1 rounded-full","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx:493:26","data-matrix-name":"span","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx","data-component-line":"493","data-component-file":"AdminProductsPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-sm%20font-medium%20text-info-blue%20bg-desert-sand%20px-3%20py-1%20rounded-full%22%7D",children:"Stock: N/A"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx:497:24","data-matrix-name":"td","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx","data-component-line":"497","data-component-file":"AdminProductsPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22px-6%20py-4%20whitespace-nowrap%22%7D",children:a.jsx("span",{className:"inline-flex px-3 py-1 text-sm font-bold rounded-full "+(t.is_active?"bg-success-green text-white":"bg-alert-rose text-white"),"data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx:498:26","data-matrix-name":"span","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx","data-component-line":"498","data-component-file":"AdminProductsPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22%5BTemplateLiteral%5D%22%7D",children:t.is_active?"‚úì Actif":"‚úó Inactif"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx:506:24","data-matrix-name":"td","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx","data-component-line":"506","data-component-file":"AdminProductsPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22px-6%20py-4%20whitespace-nowrap%20text-sm%20font-medium%22%7D",children:a.jsxs("div",{className:"flex space-x-3","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx:507:26","data-matrix-name":"div","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx","data-component-line":"507","data-component-file":"AdminProductsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20space-x-3%22%7D",children:[a.jsx("button",{onClick:()=>(async a=>{try{const{data:t,error:n}=await e.from("product_images").select("*").eq("product_id",a.id).order("display_order"),o={...a,images:t||[]};A(o),P(!0)}catch(t){A(a),P(!0)}})(t),className:"bg-anais-gold hover:bg-anais-gold-dark text-white px-3 py-1 rounded-md font-medium transition-colors","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx:508:28","data-matrix-name":"button","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx","data-component-line":"508","data-component-file":"AdminProductsPage.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22bg-anais-gold%20hover%3Abg-anais-gold-dark%20text-white%20px-3%20py-1%20rounded-md%20font-medium%20transition-colors%22%7D",children:"‚úèÔ∏è Modifier"}),a.jsx("button",{onClick:()=>(async(a,t)=>{try{const{error:n}=await e.from("products").update({is_active:!t,updated_at:(new Date).toISOString()}).eq("id",a);if(n)throw n;F()}catch(n){alert("Erreur lors de la mise √† jour du statut du produit")}})(t.id,t.is_active),className:"px-3 py-1 rounded-md font-medium transition-colors "+(t.is_active?"bg-alert-rose hover:bg-red-700 text-white":"bg-success-green hover:bg-green-700 text-white"),"data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx:514:28","data-matrix-name":"button","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx","data-component-line":"514","data-component-file":"AdminProductsPage.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22%5BTemplateLiteral%5D%22%7D",children:t.is_active?"üö´ D√©sactiver":"‚úÖ Activer"}),a.jsx("button",{onClick:()=>(async a=>{if(confirm("√ätes-vous s√ªr de vouloir supprimer ce produit ? Cette action est irr√©versible."))try{const{error:t}=await e.from("products").delete().eq("id",a);if(t)throw t;F()}catch(t){alert("Erreur lors de la suppression du produit")}})(t.id),className:"bg-deep-plum hover:bg-red-800 text-white px-3 py-1 rounded-md font-medium transition-colors","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx:524:28","data-matrix-name":"button","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx","data-component-line":"524","data-component-file":"AdminProductsPage.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22bg-deep-plum%20hover%3Abg-red-800%20text-white%20px-3%20py-1%20rounded-md%20font-medium%20transition-colors%22%7D",children:"üóëÔ∏è Supprimer"})]})})]},t.id)})})]})}),m.totalPages>1&&a.jsxs("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx:540:16","data-matrix-name":"div","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx","data-component-line":"540","data-component-file":"AdminProductsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-white%20px-4%20py-3%20flex%20items-center%20justify-between%20border-t%20border-gray-200%20sm%3Apx-6%22%7D",children:[a.jsxs("div",{className:"flex-1 flex justify-between sm:hidden","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx:541:18","data-matrix-name":"div","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx","data-component-line":"541","data-component-file":"AdminProductsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex-1%20flex%20justify-between%20sm%3Ahidden%22%7D",children:[a.jsx("button",{onClick:()=>N(m.page-1),disabled:1===m.page,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx:542:20","data-matrix-name":"button","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx","data-component-line":"542","data-component-file":"AdminProductsPage.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22disabled%22%3A%22%5BBinaryExpression%5D%22%2C%22className%22%3A%22relative%20inline-flex%20items-center%20px-4%20py-2%20border%20border-gray-300%20text-sm%20font-medium%20rounded-md%20text-gray-700%20bg-white%20hover%3Abg-gray-50%20disabled%3Aopacity-50%22%7D",children:"Pr√©c√©dent"}),a.jsx("button",{onClick:()=>N(m.page+1),disabled:m.page===m.totalPages,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx:549:20","data-matrix-name":"button","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx","data-component-line":"549","data-component-file":"AdminProductsPage.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22disabled%22%3A%22%5BBinaryExpression%5D%22%2C%22className%22%3A%22ml-3%20relative%20inline-flex%20items-center%20px-4%20py-2%20border%20border-gray-300%20text-sm%20font-medium%20rounded-md%20text-gray-700%20bg-white%20hover%3Abg-gray-50%20disabled%3Aopacity-50%22%7D",children:"Suivant"})]}),a.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx:557:18","data-matrix-name":"div","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx","data-component-line":"557","data-component-file":"AdminProductsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22hidden%20sm%3Aflex-1%20sm%3Aflex%20sm%3Aitems-center%20sm%3Ajustify-between%22%7D",children:[a.jsx("div",{"data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx:558:20","data-matrix-name":"div","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx","data-component-line":"558","data-component-file":"AdminProductsPage.tsx","data-component-name":"div",children:a.jsxs("p",{className:"text-sm text-gray-700","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx:559:22","data-matrix-name":"p","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx","data-component-line":"559","data-component-file":"AdminProductsPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20text-gray-700%22%7D",children:["Affichage de"," ",a.jsx("span",{className:"font-medium","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx:561:24","data-matrix-name":"span","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx","data-component-line":"561","data-component-file":"AdminProductsPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22font-medium%22%7D",children:(m.page-1)*m.limit+1})," ","√†"," ",a.jsx("span",{className:"font-medium","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx:565:24","data-matrix-name":"span","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx","data-component-line":"565","data-component-file":"AdminProductsPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22font-medium%22%7D",children:Math.min(m.page*m.limit,m.total)})," ","sur"," ",a.jsx("span",{className:"font-medium","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx:569:24","data-matrix-name":"span","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx","data-component-line":"569","data-component-file":"AdminProductsPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22font-medium%22%7D",children:m.total})," r√©sultats"]})}),a.jsx("div",{"data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx:572:20","data-matrix-name":"div","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx","data-component-line":"572","data-component-file":"AdminProductsPage.tsx","data-component-name":"div",children:a.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx:573:22","data-matrix-name":"nav","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx","data-component-line":"573","data-component-file":"AdminProductsPage.tsx","data-component-name":"nav","data-component-content":"%7B%22className%22%3A%22relative%20z-0%20inline-flex%20rounded-md%20shadow-sm%20-space-x-px%22%7D",children:[a.jsx("button",{onClick:()=>N(m.page-1),disabled:1===m.page,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx:574:24","data-matrix-name":"button","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx","data-component-line":"574","data-component-file":"AdminProductsPage.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22disabled%22%3A%22%5BBinaryExpression%5D%22%2C%22className%22%3A%22relative%20inline-flex%20items-center%20px-2%20py-2%20rounded-l-md%20border%20border-gray-300%20bg-white%20text-sm%20font-medium%20text-gray-500%20hover%3Abg-gray-50%20disabled%3Aopacity-50%22%7D",children:"‚Äπ"}),Array.from({length:Math.min(5,m.totalPages)},(e,t)=>{const n=Math.max(1,m.page-2)+t;return n>m.totalPages?null:a.jsx("button",{onClick:()=>N(n),className:"relative inline-flex items-center px-4 py-2 border text-sm font-medium "+(n===m.page?"z-10 bg-anais-gold border-anais-gold text-white":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"),"data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx:586:28","data-matrix-name":"button","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx","data-component-line":"586","data-component-file":"AdminProductsPage.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22%5BTemplateLiteral%5D%22%7D",children:n},n)}),a.jsx("button",{onClick:()=>N(m.page+1),disabled:m.page===m.totalPages,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50","data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx:599:24","data-matrix-name":"button","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx","data-component-line":"599","data-component-file":"AdminProductsPage.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22disabled%22%3A%22%5BBinaryExpression%5D%22%2C%22className%22%3A%22relative%20inline-flex%20items-center%20px-2%20py-2%20rounded-r-md%20border%20border-gray-300%20bg-white%20text-sm%20font-medium%20text-gray-500%20hover%3Abg-gray-50%20disabled%3Aopacity-50%22%7D",children:"‚Ä∫"})]})})]})]})]})})]}),h&&a.jsx(o,{product:y,onSave:async a=>{try{b(!0);const t=["ensemble","perfume","makeup","gift_box"];let n=String(a.product_type||"").trim();t.includes(n)||(n="ensemble");const o={name_en:a.name_en,name_ar:a.name_ar||null,name_fr:a.name_fr||null,description_en:a.description_en||null,description_ar:a.description_ar||null,description_fr:a.description_fr||null,price_dzd:a.price_dzd,sale_price_dzd:a.sale_price_dzd||null,category_id:a.category_id,sku:a.sku||null,product_type:n,sizes:a.sizes||null,colors:a.colors||null,is_featured:a.is_featured,is_active:a.is_active,updated_at:(new Date).toISOString()};let s=null==y?void 0:y.id;if(null==y?void 0:y.id){const{error:t}=await e.from("products").update(o).eq("id",y.id);if(t)throw t;if(a.images&&a.images.length>0){const{error:t}=await e.from("product_images").delete().eq("product_id",y.id),n=a.images.map(e=>({product_id:y.id,image_url:e.image_url,alt_text:e.alt_text||null,display_order:e.display_order||0,is_primary:e.is_primary||!1})),{error:o}=await e.from("product_images").insert(n)}}else{let{data:t,error:n}=await e.from("products").insert(o).select("id").single();if(n&&n.code,n)throw n;if(s=t.id,a.images&&a.images.length>0&&s){const t=a.images.map(e=>({product_id:s,image_url:e.image_url,alt_text:e.alt_text||null,display_order:e.display_order||0,is_primary:e.is_primary||!1})),{error:n}=await e.from("product_images").insert(t)}}P(!1),A(null),F()}catch(t){alert("Erreur lors de la sauvegarde du produit")}finally{b(!1)}},onCancel:()=>{P(!1),A(null)},isLoading:C,"data-matrix-id":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx:618:8","data-matrix-name":"ProductForm","data-component-path":"C:/Users/youcefcheriet/anais/anais-ecommerce/src/pages/admin/AdminProductsPage.tsx","data-component-line":"618","data-component-file":"AdminProductsPage.tsx","data-component-name":"ProductForm","data-component-content":"%7B%22product%22%3A%22%5BIdentifier%5D%22%2C%22onSave%22%3A%22%5BIdentifier%5D%22%2C%22onCancel%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22isLoading%22%3A%22%5BIdentifier%5D%22%7D"})]})}export{s as default};
